(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8114:function(t,n,e){Promise.resolve().then(e.bind(e,8219))},8219:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return AuthButtonClient}});var i=e(7437),a=e(3082),s=e(4033),u=e(2265);let getUserInfo=async()=>{let t=await fetch("https://supabase-nextjs-twitter-clone.pages.dev/api/userinfo"),n=await t.json();return n};function UserData(){let[t,n]=u.useState(!1),[e,a]=u.useState(null);return u.useEffect(()=>{n(!0),getUserInfo().then(t=>{n(!1),a(t)})},[]),u.useEffect(()=>{console.log("userinfo =====> ",e)},[e]),(0,i.jsx)("div",{children:"User Info"})}function AuthButtonClient(t){let{session:n}=t,e=(0,a.createClientComponentClient)(),u=(0,s.useRouter)(),handleGithubSignIn=async()=>{await e.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://supabase-nextjs-twitter-clone.pages.dev/api/auth/callback"}})},handleFigmaSignIn=async()=>{await e.auth.signInWithOAuth({provider:"figma",options:{redirectTo:"https://supabase-nextjs-twitter-clone.pages.dev/api/auth/callback"}})},handleSignOut=async()=>{await e.auth.signOut(),u.refresh()};return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:handleSignOut,children:"Logout"}),(0,i.jsx)(UserData,{})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:handleGithubSignIn,children:"Github Login"}),(0,i.jsx)("button",{onClick:handleFigmaSignIn,children:"Figma Login"})]})}}},function(t){t.O(0,[67,971,12,744],function(){return t(t.s=8114)}),_N_E=t.O()}]);