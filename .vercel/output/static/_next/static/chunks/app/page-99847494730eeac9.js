(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8114:function(e,t,n){Promise.resolve().then(n.bind(n,8219))},8219:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return AuthButtonClient}});var a=n(7437),i=n(2265),s=n(3082),r=n(1396),u=n.n(r),l=n(4033);let getUserInfo=async()=>{let e=await fetch("https://supabase-nextjs-twitter-clone.pages.dev/api/userinfo"),t=await e.json();return t};function UserData(){let[e,t]=i.useState(!1),[n,s]=i.useState(null);return i.useEffect(()=>{t(!0),getUserInfo().then(e=>{t(!1),s(e)})},[]),i.useEffect(()=>{console.log("userinfo =====> ",n)},[n]),(0,a.jsx)("div",{children:"User Info"})}function AuthButtonClient(e){let{session:t}=e,n=(0,s.createClientComponentClient)(),r=(0,l.useRouter)(),[o,h]=i.useState(""),[c,d]=i.useState(""),handleGithubSignIn=async()=>{await n.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://supabase-nextjs-twitter-clone.pages.dev/api/auth/callback"}})},handleFigmaSignIn=async()=>{await n.auth.signInWithOAuth({provider:"figma",options:{redirectTo:"https://supabase-nextjs-twitter-clone.pages.dev/api/auth/callback"}})},signInWithEmail=async(e,t)=>{let{data:a,error:i}=await n.auth.signInWithPassword({email:e,password:t,options:{}});console.log("dataaaaaaaaaaa =======> ",a)},handleSignOut=async()=>{await n.auth.signOut(),r.refresh()};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:handleSignOut,children:"Logout"}),(0,a.jsx)(UserData,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(u(),{href:"/sign-up",children:"Sign Up"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:handleGithubSignIn,children:"Github Login"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:handleFigmaSignIn,children:"Figma Login"})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),signInWithEmail(o,c)},children:[(0,a.jsx)("input",{className:"text-black bg-white border rounded",placeholder:"email",value:o,onChange:e=>{let t=e.target.value;h(t)}}),(0,a.jsx)("input",{className:"text-black bg-white border rounded",placeholder:"password",value:c,onChange:e=>{let t=e.target.value;d(t)}}),(0,a.jsx)("button",{children:"Sign In"})]})]})}}},function(e){e.O(0,[881,251,971,12,744],function(){return e(e.s=8114)}),_N_E=e.O()}]);