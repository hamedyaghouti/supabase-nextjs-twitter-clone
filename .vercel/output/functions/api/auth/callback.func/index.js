
  
  globalThis._ENTRIES = {};
/**/;self.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-c67a75d1b6f99dc8.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:["static/lng51zFBS9hfa_w-7CpkS/_buildManifest.js","static/lng51zFBS9hfa_w-7CpkS/_ssgManifest.js"],rootMainFiles:["static/chunks/webpack-c260574cbfb10e78.js","static/chunks/fd9d1056-bdbc21787612b876.js","static/chunks/12-09a4b84998421c84.js","static/chunks/main-app-e4f458537412773e.js"],pages:{"/_app":["static/chunks/webpack-c260574cbfb10e78.js","static/chunks/framework-8883d1e9be70c3da.js","static/chunks/main-8073133bfd3bba40.js","static/chunks/pages/_app-27277a117f49dcf1.js"],"/_error":["static/chunks/webpack-c260574cbfb10e78.js","static/chunks/framework-8883d1e9be70c3da.js","static/chunks/main-8073133bfd3bba40.js","static/chunks/pages/_error-91a5938854a6f402.js"]},ampFirstPages:[]};
/**/;self.__REACT_LOADABLE_MANIFEST="{}";
/**/;self.__NEXT_FONT_MANIFEST='{"pages":{},"app":{"/Users/hamedyaghouti/Desktop/Projects/learning/supabase/supabase-nextjs-twitter-clone/app/layout":["static/media/c9a5bc6a7c948fb0-s.p.woff2"]},"appUsingSizeAdjust":true,"pagesUsingSizeAdjust":false}';
/**/;self.__PRERENDER_MANIFEST="{\"version\":4,\"routes\":{\"/favicon.ico\":{\"initialHeaders\":{\"cache-control\":\"public, max-age=0, must-revalidate\",\"content-type\":\"image/x-icon\",\"x-next-cache-tags\":\"_N_T_/layout,_N_T_/favicon.ico/layout,_N_T_/favicon.ico/route,_N_T_/favicon.ico\"},\"experimentalBypassFor\":[{\"type\":\"header\",\"key\":\"Next-Action\"},{\"type\":\"header\",\"key\":\"content-type\",\"value\":\"multipart/form-data\"}],\"initialRevalidateSeconds\":false,\"srcRoute\":\"/favicon.ico\",\"dataRoute\":null}},\"dynamicRoutes\":{},\"notFoundRoutes\":[],\"preview\":{\"previewModeId\":\"f1b3481b80845b07b27787a822fd83f1\",\"previewModeSigningKey\":\"8323100d16959edd51b6f05d3f1e6a638e4782ea1d25dfadd91991c64b6a7c73\",\"previewModeEncryptionKey\":\"7dc76d6afcb2edd541a9465b06b293c213374a7113cf58e353e9961892ec834e\"}}"
/**/;/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete __webpack_module_cache__[moduleId];
/******/ 		}
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			993: 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	
/******/ })()
;
//# sourceMappingURL=edge-runtime-webpack.js.map
/**/;(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{6195:e=>{"use strict";e.exports=require("node:buffer")},2668:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ComponentMod:()=>N,default:()=>j});var i={};n.r(i),n.d(i,{GET:()=>GET,runtime:()=>d});var s={};n.r(s),n.d(s,{headerHooks:()=>E,originalPathname:()=>O,requestAsyncStorage:()=>_,routeModule:()=>m,serverHooks:()=>C,staticGenerationAsyncStorage:()=>b,staticGenerationBailout:()=>A});var a=n(5927);n(3747);var o=n(8333),l=n(6085),u=n(8263),c=n(1210),h=n(9756);let d="edge";async function GET(e){let t=new URL(e.url),n=t.searchParams.get("code");if(n){let e=await (0,u.createRouteHandlerClient)({cookies:h.cookies});await e.auth.exchangeCodeForSession(n)}return c.Z.redirect(t.origin)}let g=o.AppRouteRouteModule,m=new g({definition:{kind:l.x.APP_ROUTE,page:"/api/auth/callback/route",pathname:"/api/auth/callback",filename:"route",bundlePath:"app/api/auth/callback/route"},resolvedPagePath:"/Users/hamedyaghouti/Desktop/Projects/learning/supabase/supabase-nextjs-twitter-clone/app/api/auth/callback/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:_,staticGenerationAsyncStorage:b,serverHooks:C,headerHooks:E,staticGenerationBailout:A}=m,O="/api/auth/callback/route",N=s,j=a.a.wrap(m)},8263:(e,t,n)=>{"use strict";var i,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,u={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(u,{createBrowserSupabaseClient:()=>createBrowserSupabaseClient,createClientComponentClient:()=>createClientComponentClient,createMiddlewareClient:()=>createMiddlewareClient,createMiddlewareSupabaseClient:()=>createMiddlewareSupabaseClient,createPagesBrowserClient:()=>h,createPagesServerClient:()=>createPagesServerClient,createRouteHandlerClient:()=>createRouteHandlerClient,createServerActionClient:()=>j,createServerComponentClient:()=>createServerComponentClient,createServerSupabaseClient:()=>createServerSupabaseClient}),e.exports=((e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of o(t))l.call(e,n)||void 0===n||s(e,n,{get:()=>t[n],enumerable:!(i=a(t,n))||i.enumerable});return e})(s({},"__esModule",{value:!0}),u);var c=n(7807);function createClientComponentClient({supabaseUrl:e="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:n,cookieOptions:s,isSingleton:a=!0}={}){if(!e||!t)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");let createNewClient=()=>{var i;return(0,c.createSupabaseClient)(e,t,{...n,global:{...null==n?void 0:n.global,headers:{...null==(i=null==n?void 0:n.global)?void 0:i.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.8.1"}},auth:{storageKey:null==s?void 0:s.name,storage:new c.BrowserCookieAuthStorageAdapter(s)}})};if(a){let e=i??createNewClient();return e}return createNewClient()}var h=createClientComponentClient,d=n(7807),g=n(2683),m=class extends d.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let n=(0,g.splitCookiesString)((null==(t=this.context.res.getHeader("set-cookie"))?void 0:t.toString())??"").map(t=>(0,d.parseCookies)(t)[e]).find(e=>!!e),i=n??this.context.req.cookies[e];return i}setCookie(e,t){this._setCookie(e,t)}deleteCookie(e){this._setCookie(e,"",{maxAge:0})}_setCookie(e,t,n){var i;let s=(0,g.splitCookiesString)((null==(i=this.context.res.getHeader("set-cookie"))?void 0:i.toString())??"").filter(t=>!(e in(0,d.parseCookies)(t))),a=(0,d.serializeCookie)(e,t,{...this.cookieOptions,...n,httpOnly:!1});this.context.res.setHeader("set-cookie",[...s,a])}};function createPagesServerClient(e,{supabaseUrl:t="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:i,cookieOptions:s}={}){var a;if(!t||!n)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,d.createSupabaseClient)(t,n,{...i,global:{...null==i?void 0:i.global,headers:{...null==(a=null==i?void 0:i.global)?void 0:a.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.8.1"}},auth:{storageKey:null==s?void 0:s.name,storage:new m(e,s)}})}var _=n(7807),b=n(2683),C=class extends _.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let n=(0,b.splitCookiesString)((null==(t=this.context.res.headers.get("set-cookie"))?void 0:t.toString())??"").map(t=>(0,_.parseCookies)(t)[e]).find(e=>!!e);if(n)return n;let i=(0,_.parseCookies)(this.context.req.headers.get("cookie")??"");return i[e]}setCookie(e,t){this._setCookie(e,t)}deleteCookie(e){this._setCookie(e,"",{maxAge:0})}_setCookie(e,t,n){let i=(0,_.serializeCookie)(e,t,{...this.cookieOptions,...n,httpOnly:!1});this.context.res.headers&&this.context.res.headers.append("set-cookie",i)}};function createMiddlewareClient(e,{supabaseUrl:t="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:i,cookieOptions:s}={}){var a;if(!t||!n)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,_.createSupabaseClient)(t,n,{...i,global:{...null==i?void 0:i.global,headers:{...null==(a=null==i?void 0:i.global)?void 0:a.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.8.1"}},auth:{storageKey:null==s?void 0:s.name,storage:new C(e,s)}})}var E=n(7807),A=class extends E.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let n=this.context.cookies();return null==(t=n.get(e))?void 0:t.value}setCookie(e,t){}deleteCookie(e){}};function createServerComponentClient(e,{supabaseUrl:t="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:i,cookieOptions:s}={}){var a;if(!t||!n)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,E.createSupabaseClient)(t,n,{...i,global:{...null==i?void 0:i.global,headers:{...null==(a=null==i?void 0:i.global)?void 0:a.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.8.1"}},auth:{storageKey:null==s?void 0:s.name,storage:new A(e,s)}})}var O=n(7807),N=class extends O.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;let n=this.context.cookies();return null==(t=n.get(e))?void 0:t.value}setCookie(e,t){let n=this.context.cookies();n.set(e,t,this.cookieOptions)}deleteCookie(e){let t=this.context.cookies();t.set(e,"",{maxAge:0})}};function createRouteHandlerClient(e,{supabaseUrl:t="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:i,cookieOptions:s}={}){var a;if(!t||!n)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,O.createSupabaseClient)(t,n,{...i,global:{...null==i?void 0:i.global,headers:{...null==(a=null==i?void 0:i.global)?void 0:a.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.8.1"}},auth:{storageKey:null==s?void 0:s.name,storage:new N(e,s)}})}var j=createRouteHandlerClient;function createBrowserSupabaseClient({supabaseUrl:e="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:n,cookieOptions:i}={}){return console.warn("Please utilize the `createPagesBrowserClient` function instead of the deprecated `createBrowserSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs-pages"),h({supabaseUrl:e,supabaseKey:t,options:n,cookieOptions:i})}function createServerSupabaseClient(e,{supabaseUrl:t="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:i,cookieOptions:s}={}){return console.warn("Please utilize the `createPagesServerClient` function instead of the deprecated `createServerSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs-pages"),createPagesServerClient(e,{supabaseUrl:t,supabaseKey:n,options:i,cookieOptions:s})}function createMiddlewareSupabaseClient(e,{supabaseUrl:t="https://oqetnmealraxzvlallio.supabase.co",supabaseKey:n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xZXRubWVhbHJheHp2bGFsbGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NDQ0NjAsImV4cCI6MjAxMjUyMDQ2MH0.1om7AKUt0r4O2eNzrf3AMdc49VsLSlu5u2K2Qx7MTyc",options:i,cookieOptions:s}={}){return console.warn("Please utilize the `createMiddlewareClient` function instead of the deprecated `createMiddlewareSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs#middleware"),createMiddlewareClient(e,{supabaseUrl:t,supabaseKey:n,options:i,cookieOptions:s})}},6749:(e,t,n)=>{"use strict";var i=function(){if("undefined"!=typeof self)return self;if(void 0!==n.g)return n.g;throw Error("unable to locate global object")}();e.exports=t=i.fetch,i.fetch&&(t.default=i.fetch.bind(i)),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response},6756:e=>{"use strict";var naiveFallback=function(){if("object"==typeof self&&self)return self;throw Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return naiveFallback()}try{if(!__global__)return naiveFallback();return __global__}finally{delete Object.prototype.__global__}}()},1690:e=>{"use strict";var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a={};function stringifyCookie(e){var t;let n=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${n.join("; ")}`}function parseCookie(e){let t=new Map;for(let n of e.split(/; */)){if(!n)continue;let e=n.indexOf("=");if(-1===e){t.set(n,"true");continue}let[i,s]=[n.slice(0,e),n.slice(e+1)];try{t.set(i,decodeURIComponent(null!=s?s:"true"))}catch{}}return t}function parseSetCookie(e){var t;if(!e)return;let[[n,i],...s]=parseCookie(e),{domain:a,expires:l,httponly:u,maxage:c,path:h,samesite:d,secure:g}=Object.fromEntries(s.map(([e,t])=>[e.toLowerCase(),t])),m={name:n,value:decodeURIComponent(i),domain:a,...l&&{expires:new Date(l)},...u&&{httpOnly:!0},..."string"==typeof c&&{maxAge:Number(c)},path:h,...d&&{sameSite:o.includes(t=(t=d).toLowerCase())?t:void 0},...g&&{secure:!0}};return function(e){let t={};for(let n in e)e[n]&&(t[n]=e[n]);return t}(m)}((e,n)=>{for(var i in n)t(e,i,{get:n[i],enumerable:!0})})(a,{RequestCookies:()=>l,ResponseCookies:()=>u,parseCookie:()=>parseCookie,parseSetCookie:()=>parseSetCookie,splitCookiesString:()=>splitCookiesString,stringifyCookie:()=>stringifyCookie}),e.exports=((e,a,o,l)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let o of i(a))s.call(e,o)||void 0===o||t(e,o,{get:()=>a[o],enumerable:!(l=n(a,o))||l.enumerable});return e})(t({},"__esModule",{value:!0}),a);var o=["strict","lax","none"];function splitCookiesString(e){if(!e)return[];var t,n,i,s,a,o=[],l=0;function skipWhitespace(){for(;l<e.length&&/\s/.test(e.charAt(l));)l+=1;return l<e.length}for(;l<e.length;){for(t=l,a=!1;skipWhitespace();)if(","===(n=e.charAt(l))){for(i=l,l+=1,skipWhitespace(),s=l;l<e.length&&"="!==(n=e.charAt(l))&&";"!==n&&","!==n;)l+=1;l<e.length&&"="===e.charAt(l)?(a=!0,l=s,o.push(e.substring(t,i)),t=l):l=i+1}else l+=1;(!a||l>=e.length)&&o.push(e.substring(t,e.length))}return o}var l=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t){let e=parseCookie(t);for(let[t,n]of e)this._parsed.set(t,{name:t,value:n})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let n=Array.from(this._parsed);if(!e.length)return n.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,n]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:n}),this._headers.set("cookie",Array.from(i).map(([e,t])=>stringifyCookie(t)).join("; ")),this}delete(e){let t=this._parsed,n=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>stringifyCookie(t)).join("; ")),n}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},u=class{constructor(e){var t;this._parsed=new Map,this._headers=e;let n=null==(t=e.getSetCookie)?void 0:t.call(e);e.get("set-cookie");let i=Array.isArray(n)?n:splitCookiesString(n);for(let e of i){let t=parseSetCookie(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let n=Array.from(this._parsed.values());if(!e.length)return n;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,n,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,s=this._parsed;return s.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:n,...i})),function(e,t){for(let[,n]of(t.delete("set-cookie"),e)){let e=stringifyCookie(n);t.append("set-cookie",e)}}(s,this._headers),this}delete(...e){let[t,n,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:n,domain:i,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(stringifyCookie).join("; ")}}},6581:(e,t,n)=>{"use strict";(()=>{var t={339:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let i=n(44),s=n(38),a=n(741),o="context",l=new i.NoopContextManager;let ContextAPI=class ContextAPI{constructor(){}static getInstance(){return this._instance||(this._instance=new ContextAPI),this._instance}setGlobalContextManager(e){return(0,s.registerGlobal)(o,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,n,...i){return this._getContextManager().with(e,t,n,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,s.getGlobal)(o)||l}disable(){this._getContextManager().disable(),(0,s.unregisterGlobal)(o,a.DiagAPI.instance())}};t.ContextAPI=ContextAPI},741:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let i=n(144),s=n(871),a=n(133),o=n(38);let DiagAPI=class DiagAPI{constructor(){function _logProxy(e){return function(...t){let n=(0,o.getGlobal)("diag");if(n)return n[e](...t)}}let e=this;e.setLogger=(t,n={logLevel:a.DiagLogLevel.INFO})=>{var i,l,u;if(t===e){let t=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(i=t.stack)&&void 0!==i?i:t.message),!1}"number"==typeof n&&(n={logLevel:n});let c=(0,o.getGlobal)("diag"),h=(0,s.createLogLevelDiagLogger)(null!==(l=n.logLevel)&&void 0!==l?l:a.DiagLogLevel.INFO,t);if(c&&!n.suppressOverrideMessage){let e=null!==(u=Error().stack)&&void 0!==u?u:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),h.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",h,e,!0)},e.disable=()=>{(0,o.unregisterGlobal)("diag",e)},e.createComponentLogger=e=>new i.DiagComponentLogger(e),e.verbose=_logProxy("verbose"),e.debug=_logProxy("debug"),e.info=_logProxy("info"),e.warn=_logProxy("warn"),e.error=_logProxy("error")}static instance(){return this._instance||(this._instance=new DiagAPI),this._instance}};t.DiagAPI=DiagAPI},128:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let i=n(333),s=n(38),a=n(741),o="metrics";let MetricsAPI=class MetricsAPI{constructor(){}static getInstance(){return this._instance||(this._instance=new MetricsAPI),this._instance}setGlobalMeterProvider(e){return(0,s.registerGlobal)(o,e,a.DiagAPI.instance())}getMeterProvider(){return(0,s.getGlobal)(o)||i.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){(0,s.unregisterGlobal)(o,a.DiagAPI.instance())}};t.MetricsAPI=MetricsAPI},930:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let i=n(38),s=n(600),a=n(625),o=n(377),l=n(701),u=n(741),c="propagation",h=new s.NoopTextMapPropagator;let PropagationAPI=class PropagationAPI{constructor(){this.createBaggage=l.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new PropagationAPI),this._instance}setGlobalPropagator(e){return(0,i.registerGlobal)(c,e,u.DiagAPI.instance())}inject(e,t,n=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,n)}extract(e,t,n=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,i.unregisterGlobal)(c,u.DiagAPI.instance())}_getGlobalPropagator(){return(0,i.getGlobal)(c)||h}};t.PropagationAPI=PropagationAPI},967:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let i=n(38),s=n(414),a=n(994),o=n(542),l=n(741),u="trace";let TraceAPI=class TraceAPI{constructor(){this._proxyTracerProvider=new s.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new TraceAPI),this._instance}setGlobalTracerProvider(e){let t=(0,i.registerGlobal)(u,this._proxyTracerProvider,l.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,i.getGlobal)(u)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,i.unregisterGlobal)(u,l.DiagAPI.instance()),this._proxyTracerProvider=new s.ProxyTracerProvider}};t.TraceAPI=TraceAPI},377:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let i=n(339),s=n(421),a=(0,s.createContextKey)("OpenTelemetry Baggage Key");function getBaggage(e){return e.getValue(a)||void 0}t.getBaggage=getBaggage,t.getActiveBaggage=function(){return getBaggage(i.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(a,t)},t.deleteBaggage=function(e){return e.deleteValue(a)}},496:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;let BaggageImpl=class BaggageImpl{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new BaggageImpl(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new BaggageImpl(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new BaggageImpl(this._entries);for(let n of e)t._entries.delete(n);return t}clear(){return new BaggageImpl}};t.BaggageImpl=BaggageImpl},817:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},701:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let i=n(741),s=n(496),a=n(817),o=i.DiagAPI.instance();t.createBaggage=function(e={}){return new s.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},388:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let i=n(339);t.context=i.ContextAPI.getInstance()},44:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let i=n(421);t.NoopContextManager=class{active(){return i.ROOT_CONTEXT}with(e,t,n,...i){return t.call(n,...i)}bind(e,t){return t}enable(){return this}disable(){return this}}},421:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};let BaseContext=class BaseContext{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new BaseContext(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new BaseContext(t._currentContext);return n._currentContext.delete(e),n}}};t.ROOT_CONTEXT=new BaseContext},920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let i=n(741);t.diag=i.DiagAPI.instance()},144:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let i=n(38);function logProxy(e,t,n){let s=(0,i.getGlobal)("diag");if(s)return n.unshift(t),s[e](...n)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return logProxy("debug",this._namespace,e)}error(...e){return logProxy("error",this._namespace,e)}info(...e){return logProxy("info",this._namespace,e)}warn(...e){return logProxy("warn",this._namespace,e)}verbose(...e){return logProxy("verbose",this._namespace,e)}}},689:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<n.length;e++)this[n[e].n]=function(e){return function(...t){if(console){let n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(n[e].c)}}},871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let i=n(133);t.createLogLevelDiagLogger=function(e,t){function _filterFunc(n,i){let s=t[n];return"function"==typeof s&&e>=i?s.bind(t):function(){}}return e<i.DiagLogLevel.NONE?e=i.DiagLogLevel.NONE:e>i.DiagLogLevel.ALL&&(e=i.DiagLogLevel.ALL),t=t||{},{error:_filterFunc("error",i.DiagLogLevel.ERROR),warn:_filterFunc("warn",i.DiagLogLevel.WARN),info:_filterFunc("info",i.DiagLogLevel.INFO),debug:_filterFunc("debug",i.DiagLogLevel.DEBUG),verbose:_filterFunc("verbose",i.DiagLogLevel.VERBOSE)}}},133:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},38:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let i=n(966),s=n(520),a=n(565),o=s.VERSION.split(".")[0],l=Symbol.for(`opentelemetry.js.api.${o}`),u=i._globalThis;t.registerGlobal=function(e,t,n,i=!1){var a;let o=u[l]=null!==(a=u[l])&&void 0!==a?a:{version:s.VERSION};if(!i&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return n.error(t.stack||t.message),!1}if(o.version!==s.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${s.VERSION}`);return n.error(t.stack||t.message),!1}return o[e]=t,n.debug(`@opentelemetry/api: Registered a global for ${e} v${s.VERSION}.`),!0},t.getGlobal=function(e){var t,n;let i=null===(t=u[l])||void 0===t?void 0:t.version;if(i&&(0,a.isCompatible)(i))return null===(n=u[l])||void 0===n?void 0:n[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${s.VERSION}.`);let n=u[l];n&&delete n[e]}},565:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let i=n(520),s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){let t=new Set([e]),n=new Set,i=e.match(s);if(!i)return()=>!1;let a={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=a.prerelease)return function(t){return t===e};function _reject(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;let i=e.match(s);if(!i)return _reject(e);let o={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};return null!=o.prerelease||a.major!==o.major?_reject(e):0===a.major?a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):_reject(e):a.minor<=o.minor?(t.add(e),!0):_reject(e)}}t._makeCompatibilityCheck=_makeCompatibilityCheck,t.isCompatible=_makeCompatibilityCheck(i.VERSION)},934:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let i=n(128);t.metrics=i.MetricsAPI.getInstance()},28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},962:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;let NoopMeter=class NoopMeter{constructor(){}createHistogram(e,n){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,n){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,n){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,n){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,n){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,n){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};t.NoopMeter=NoopMeter;let NoopMetric=class NoopMetric{};t.NoopMetric=NoopMetric;let NoopCounterMetric=class NoopCounterMetric extends NoopMetric{add(e,t){}};t.NoopCounterMetric=NoopCounterMetric;let NoopUpDownCounterMetric=class NoopUpDownCounterMetric extends NoopMetric{add(e,t){}};t.NoopUpDownCounterMetric=NoopUpDownCounterMetric;let NoopHistogramMetric=class NoopHistogramMetric extends NoopMetric{record(e,t){}};t.NoopHistogramMetric=NoopHistogramMetric;let NoopObservableMetric=class NoopObservableMetric{addCallback(e){}removeCallback(e){}};t.NoopObservableMetric=NoopObservableMetric;let NoopObservableCounterMetric=class NoopObservableCounterMetric extends NoopObservableMetric{};t.NoopObservableCounterMetric=NoopObservableCounterMetric;let NoopObservableGaugeMetric=class NoopObservableGaugeMetric extends NoopObservableMetric{};t.NoopObservableGaugeMetric=NoopObservableGaugeMetric;let NoopObservableUpDownCounterMetric=class NoopObservableUpDownCounterMetric extends NoopObservableMetric{};t.NoopObservableUpDownCounterMetric=NoopObservableUpDownCounterMetric,t.NOOP_METER=new NoopMeter,t.NOOP_COUNTER_METRIC=new NoopCounterMetric,t.NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric,t.NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric,t.NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric,t.NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric,t.createNoopMeter=function(){return t.NOOP_METER}},333:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let i=n(962);let NoopMeterProvider=class NoopMeterProvider{getMeter(e,t,n){return i.NOOP_METER}};t.NoopMeterProvider=NoopMeterProvider,t.NOOP_METER_PROVIDER=new NoopMeterProvider},966:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(652),t)},385:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:n.g},652:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(385),t)},251:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let i=n(930);t.propagation=i.PropagationAPI.getInstance()},600:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},625:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,n){null!=e&&(e[t]=n)}}},978:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let i=n(967);t.trace=i.TraceAPI.getInstance()},76:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let i=n(304);t.NonRecordingSpan=class{constructor(e=i.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},527:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let i=n(339),s=n(542),a=n(76),o=n(994),l=i.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,n=l.active()){let i=!!(null==t?void 0:t.root);if(i)return new a.NonRecordingSpan;let u=n&&(0,s.getSpanContext)(n);return"object"==typeof u&&"string"==typeof u.spanId&&"string"==typeof u.traceId&&"number"==typeof u.traceFlags&&(0,o.isSpanContextValid)(u)?new a.NonRecordingSpan(u):new a.NonRecordingSpan}startActiveSpan(e,t,n,i){let a,o,u;if(arguments.length<2)return;2==arguments.length?u=t:3==arguments.length?(a=t,u=n):(a=t,o=n,u=i);let c=null!=o?o:l.active(),h=this.startSpan(e,a,c),d=(0,s.setSpan)(c,h);return l.with(d,u,void 0,h)}}},228:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let i=n(527);t.NoopTracerProvider=class{getTracer(e,t,n){return new i.NoopTracer}}},387:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let i=n(527),s=new i.NoopTracer;t.ProxyTracer=class{constructor(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}startSpan(e,t,n){return this._getTracer().startSpan(e,t,n)}startActiveSpan(e,t,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):s}}},414:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let i=n(387),s=n(228),a=new s.NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,n){var s;return null!==(s=this.getDelegateTracer(e,t,n))&&void 0!==s?s:new i.ProxyTracer(this,e,t,n)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:a}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,n){var i;return null===(i=this._delegate)||void 0===i?void 0:i.getTracer(e,t,n)}}},505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},542:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let i=n(421),s=n(76),a=n(339),o=(0,i.createContextKey)("OpenTelemetry Context Key SPAN");function getSpan(e){return e.getValue(o)||void 0}function setSpan(e,t){return e.setValue(o,t)}t.getSpan=getSpan,t.getActiveSpan=function(){return getSpan(a.ContextAPI.getInstance().active())},t.setSpan=setSpan,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return setSpan(e,new s.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=getSpan(e))||void 0===t?void 0:t.spanContext()}},430:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let i=n(450);let TraceStateImpl=class TraceStateImpl{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),s=n.indexOf("=");if(-1!==s){let a=n.slice(0,s),o=n.slice(s+1,t.length);(0,i.validateKey)(a)&&(0,i.validateValue)(o)&&e.set(a,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new TraceStateImpl;return e._internalState=new Map(this._internalState),e}};t.TraceStateImpl=TraceStateImpl},450:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let n="[_0-9a-z-*/]",i=`[a-z]${n}{0,255}`,s=`[a-z0-9]${n}{0,240}@[a-z]${n}{0,13}`,a=RegExp(`^(?:${i}|${s})$`),o=/^[ -~]{0,255}[!-~]$/,l=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return o.test(e)&&!l.test(e)}},757:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let i=n(430);t.createTraceState=function(e){return new i.TraceStateImpl(e)}},304:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let i=n(762);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}},902:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},994:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let i=n(304),s=n(76),a=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return a.test(e)&&e!==i.INVALID_TRACEID}function isValidSpanId(e){return o.test(e)&&e!==i.INVALID_SPANID}t.isValidTraceId=isValidTraceId,t.isValidSpanId=isValidSpanId,t.isSpanContextValid=function(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)},t.wrapSpanContext=function(e){return new s.NonRecordingSpan(e)}},832:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},762:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},520:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.4.1"}},i={};function __nccwpck_require__(e){var n=i[e];if(void 0!==n)return n.exports;var s=i[e]={exports:{}},a=!0;try{t[e].call(s.exports,s,s.exports,__nccwpck_require__),a=!1}finally{a&&delete i[e]}return s.exports}__nccwpck_require__.ab="//";var s={};(()=>{Object.defineProperty(s,"__esModule",{value:!0}),s.trace=s.propagation=s.metrics=s.diag=s.context=s.INVALID_SPAN_CONTEXT=s.INVALID_TRACEID=s.INVALID_SPANID=s.isValidSpanId=s.isValidTraceId=s.isSpanContextValid=s.createTraceState=s.TraceFlags=s.SpanStatusCode=s.SpanKind=s.SamplingDecision=s.ProxyTracerProvider=s.ProxyTracer=s.defaultTextMapSetter=s.defaultTextMapGetter=s.ValueType=s.createNoopMeter=s.DiagLogLevel=s.DiagConsoleLogger=s.ROOT_CONTEXT=s.createContextKey=s.baggageEntryMetadataFromString=void 0;var e=__nccwpck_require__(701);Object.defineProperty(s,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=__nccwpck_require__(421);Object.defineProperty(s,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(s,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var n=__nccwpck_require__(689);Object.defineProperty(s,"DiagConsoleLogger",{enumerable:!0,get:function(){return n.DiagConsoleLogger}});var i=__nccwpck_require__(133);Object.defineProperty(s,"DiagLogLevel",{enumerable:!0,get:function(){return i.DiagLogLevel}});var a=__nccwpck_require__(962);Object.defineProperty(s,"createNoopMeter",{enumerable:!0,get:function(){return a.createNoopMeter}});var o=__nccwpck_require__(28);Object.defineProperty(s,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=__nccwpck_require__(625);Object.defineProperty(s,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(s,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var u=__nccwpck_require__(387);Object.defineProperty(s,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var c=__nccwpck_require__(414);Object.defineProperty(s,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var h=__nccwpck_require__(505);Object.defineProperty(s,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}});var d=__nccwpck_require__(902);Object.defineProperty(s,"SpanKind",{enumerable:!0,get:function(){return d.SpanKind}});var g=__nccwpck_require__(832);Object.defineProperty(s,"SpanStatusCode",{enumerable:!0,get:function(){return g.SpanStatusCode}});var m=__nccwpck_require__(762);Object.defineProperty(s,"TraceFlags",{enumerable:!0,get:function(){return m.TraceFlags}});var _=__nccwpck_require__(757);Object.defineProperty(s,"createTraceState",{enumerable:!0,get:function(){return _.createTraceState}});var b=__nccwpck_require__(994);Object.defineProperty(s,"isSpanContextValid",{enumerable:!0,get:function(){return b.isSpanContextValid}}),Object.defineProperty(s,"isValidTraceId",{enumerable:!0,get:function(){return b.isValidTraceId}}),Object.defineProperty(s,"isValidSpanId",{enumerable:!0,get:function(){return b.isValidSpanId}});var C=__nccwpck_require__(304);Object.defineProperty(s,"INVALID_SPANID",{enumerable:!0,get:function(){return C.INVALID_SPANID}}),Object.defineProperty(s,"INVALID_TRACEID",{enumerable:!0,get:function(){return C.INVALID_TRACEID}}),Object.defineProperty(s,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return C.INVALID_SPAN_CONTEXT}});let E=__nccwpck_require__(388);Object.defineProperty(s,"context",{enumerable:!0,get:function(){return E.context}});let A=__nccwpck_require__(920);Object.defineProperty(s,"diag",{enumerable:!0,get:function(){return A.diag}});let O=__nccwpck_require__(934);Object.defineProperty(s,"metrics",{enumerable:!0,get:function(){return O.metrics}});let N=__nccwpck_require__(251);Object.defineProperty(s,"propagation",{enumerable:!0,get:function(){return N.propagation}});let j=__nccwpck_require__(978);Object.defineProperty(s,"trace",{enumerable:!0,get:function(){return j.trace}}),s.default={context:E.context,diag:A.diag,metrics:O.metrics,propagation:N.propagation,trace:j.trace}})(),e.exports=s})()},49:e=>{"use strict";(()=>{"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};(()=>{/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(t,n){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var s={},a=t.split(i),o=(n||{}).decode||e,l=0;l<a.length;l++){var u=a[l],c=u.indexOf("=");if(!(c<0)){var h=u.substr(0,c).trim(),d=u.substr(++c,u.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==s[h]&&(s[h]=function(e,t){try{return t(e)}catch(t){return e}}(d,o))}}return s},t.serialize=function(e,t,i){var a=i||{},o=a.encode||n;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!s.test(e))throw TypeError("argument name is invalid");var l=o(t);if(l&&!s.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(a.domain){if(!s.test(a.domain))throw TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!s.test(a.path))throw TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(u+="; HttpOnly"),a.secure&&(u+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var e=decodeURIComponent,n=encodeURIComponent,i=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},2935:e=>{"use strict";(()=>{var t={806:(e,t,n)=>{let i=n(190),s=Symbol("max"),a=Symbol("length"),o=Symbol("lengthCalculator"),l=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),h=Symbol("noDisposeOnSet"),d=Symbol("lruList"),g=Symbol("cache"),m=Symbol("updateAgeOnGet"),naiveLength=()=>1,get=(e,t,n)=>{let i=e[g].get(t);if(i){let t=i.value;if(isStale(e,t)){if(del(e,i),!e[l])return}else n&&(e[m]&&(i.value.now=Date.now()),e[d].unshiftNode(i));return t.value}},isStale=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},trim=e=>{if(e[a]>e[s])for(let t=e[d].tail;e[a]>e[s]&&null!==t;){let n=t.prev;del(e,t),t=n}},del=(e,t)=>{if(t){let n=t.value;e[c]&&e[c](n.key,n.value),e[a]-=n.length,e[g].delete(n.key),e[d].removeNode(t)}};let Entry=class Entry{constructor(e,t,n,i,s){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=s||0}};let forEachStep=(e,t,n,i)=>{let s=n.value;isStale(e,s)&&(del(e,n),e[l]||(s=void 0)),s&&t.call(i,s.value,s.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[s]=e.max||1/0;let t=e.length||naiveLength;if(this[o]="function"!=typeof t?naiveLength:t,this[l]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[h]=e.noDisposeOnSet||!1,this[m]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[s]=e||1/0,trim(this)}get max(){return this[s]}set allowStale(e){this[l]=!!e}get allowStale(){return this[l]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[u]=e,trim(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=naiveLength),e!==this[o]&&(this[o]=e,this[a]=0,this[d].forEach(e=>{e.length=this[o](e.value,e.key),this[a]+=e.length})),trim(this)}get lengthCalculator(){return this[o]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){let i=n.prev;forEachStep(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){let i=n.next;forEachStep(this,e,n,t),n=i}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[g]=new Map,this[d]=new i,this[a]=0}dump(){return this[d].map(e=>!isStale(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw TypeError("maxAge must be a number");let i=n?Date.now():0,l=this[o](t,e);if(this[g].has(e)){if(l>this[s])return del(this,this[g].get(e)),!1;let o=this[g].get(e),u=o.value;return this[c]&&!this[h]&&this[c](e,u.value),u.now=i,u.maxAge=n,u.value=t,this[a]+=l-u.length,u.length=l,this.get(e),trim(this),!0}let m=new Entry(e,t,l,i,n);return m.length>this[s]?(this[c]&&this[c](e,t),!1):(this[a]+=m.length,this[d].unshift(m),this[g].set(e,this[d].head),trim(this),!0)}has(e){if(!this[g].has(e))return!1;let t=this[g].get(e).value;return!isStale(this,t)}get(e){return get(this,e,!0)}peek(e){return get(this,e,!1)}pop(){let e=this[d].tail;return e?(del(this,e),e.value):null}del(e){del(this,this[g].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(0===s)this.set(i.k,i.v);else{let e=s-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[g].forEach((e,t)=>get(this,t,!1))}}},76:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},190:(e,t,n)=>{function Yallist(e){var t=this;if(t instanceof Yallist||(t=new Yallist),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function Node(e,t,n,i){if(!(this instanceof Node))return new Node(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Yallist.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Yallist.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Yallist.prototype.push=function(){for(var e,t=0,n=arguments.length;t<n;t++)e=arguments[t],this.tail=new Node(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},Yallist.prototype.unshift=function(){for(var e,t=0,n=arguments.length;t<n;t++)e=arguments[t],this.head=new Node(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},Yallist.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Yallist.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Yallist.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},Yallist.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},Yallist.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},Yallist.prototype.map=function(e,t){t=t||this;for(var n=new Yallist,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},Yallist.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Yallist,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},Yallist.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else if(this.head)i=this.head.next,n=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var s=0;null!==i;s++)n=e(n,i.value,s),i=i.next;return n},Yallist.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else if(this.tail)i=this.tail.prev,n=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;null!==i;s--)n=e(n,i.value,s),i=i.prev;return n},Yallist.prototype.toArray=function(){for(var e=Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},Yallist.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},Yallist.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Yallist;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)n.push(s.value);return n},Yallist.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Yallist;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)n.push(s.value);return n},Yallist.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=2;n<arguments.length;n++)i=function(e,t,n){var i=t===e.head?new Node(n,null,t,e):new Node(n,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}(this,i,arguments[n]);return s},Yallist.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};try{n(76)(Yallist)}catch(e){}}},n={};function __nccwpck_require__(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,__nccwpck_require__),a=!1}finally{a&&delete n[e]}return s.exports}__nccwpck_require__.ab="//";var i=__nccwpck_require__(806);e.exports=i})()},5700:e=>{"use strict";!function(){var t={114:function(e){function assertPath(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function normalizeStringPosix(e,t){for(var n,i="",s=0,a=-1,o=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else if(47===n)break;else n=47;if(47===n){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(i.length<2||2!==s||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var u=i.lastIndexOf("/");if(u!==i.length-1){-1===u?(i="",s=0):s=(i=i.slice(0,u)).length-1-i.lastIndexOf("/"),a=l,o=0;continue}}else if(2===i.length||1===i.length){i="",s=0,a=l,o=0;continue}}t&&(i.length>0?i+="/..":i="..",s=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),s=l-a-1;a=l,o=0}else 46===n&&-1!==o?++o:o=-1}return i}var t={resolve:function(){for(var e,t,n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--)s>=0?t=arguments[s]:(void 0===e&&(e=""),t=e),assertPath(t),0!==t.length&&(n=t+"/"+n,i=47===t.charCodeAt(0));return(n=normalizeStringPosix(n,!i),i)?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(assertPath(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return(0!==(e=normalizeStringPosix(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t)?"/"+e:e},isAbsolute:function(e){return assertPath(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];assertPath(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":t.normalize(e)},relative:function(e,n){if(assertPath(e),assertPath(n),e===n||(e=t.resolve(e))===(n=t.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var s=e.length,a=s-i,o=1;o<n.length&&47===n.charCodeAt(o);++o);for(var l=n.length-o,u=a<l?a:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(47===n.charCodeAt(o+h))return n.slice(o+h+1);if(0===h)return n.slice(o+h)}else a>u&&(47===e.charCodeAt(i+h)?c=h:0===h&&(c=0));break}var d=e.charCodeAt(i+h);if(d!==n.charCodeAt(o+h))break;47===d&&(c=h)}var g="";for(h=i+c+1;h<=s;++h)(h===s||47===e.charCodeAt(h))&&(0===g.length?g+="..":g+="/..");return g.length>0?g+n.slice(o+c):(o+=c,47===n.charCodeAt(o)&&++o,n.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(assertPath(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!s){i=a;break}}else s=!1;return -1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');assertPath(e);var n,i=0,s=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){i=n+1;break}}else -1===l&&(a=!1,l=n+1),o>=0&&(u===t.charCodeAt(o)?-1==--o&&(s=n):(o=-1,s=l))}return i===s?s=l:-1===s&&(s=e.length),e.slice(i,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else -1===s&&(a=!1,s=n+1);return -1===s?"":e.slice(i,s)},extname:function(e){assertPath(e);for(var t=-1,n=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47===l){if(!s){n=o+1;break}continue}-1===i&&(s=!1,i=o+1),46===l?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1)}return -1===t||-1===i||0===a||1===a&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){assertPath(e);var t,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var i=e.charCodeAt(0),s=47===i;s?(n.root="/",t=1):t=0;for(var a=-1,o=0,l=-1,u=!0,c=e.length-1,h=0;c>=t;--c){if(47===(i=e.charCodeAt(c))){if(!u){o=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===i?-1===a?a=c:1!==h&&(h=1):-1!==a&&(h=-1)}return -1===a||-1===l||0===h||1===h&&a===l-1&&a===o+1?-1!==l&&(0===o&&s?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(o,l)):(0===o&&s?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(o,a),n.base=e.slice(o,l)),n.ext=e.slice(a,l)),o>0?n.dir=e.slice(0,o-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};t.posix=t,e.exports=t}},n={};function __nccwpck_require__(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,__nccwpck_require__),a=!1}finally{a&&delete n[e]}return s.exports}__nccwpck_require__.ab="//";var i=__nccwpck_require__(114);e.exports=i}()},2739:(e,t)=>{"use strict";/**
 * @license React
 * react-dom-server-rendering-stub.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=n.Dispatcher;function k(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?"use-credentials":"":void 0}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,t.createPortal=function(){throw Error(f(448))},t.experimental_useFormState=function(){throw Error(f(248))},t.experimental_useFormStatus=function(){throw Error(f(248))},t.flushSync=function(){throw Error(f(449))},t.preconnect=function(e,t){var n=i.current;n&&"string"==typeof e&&(t=t?k("preconnect",t.crossOrigin):null,n.preconnect(e,t))},t.prefetchDNS=function(e){var t=i.current;t&&"string"==typeof e&&t.prefetchDNS(e)},t.preinit=function(e,t){var n=i.current;if(n&&"string"==typeof e&&t&&"string"==typeof t.as){var s=t.as,a=k(s,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,l="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?n.preinitStyle(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:o,fetchPriority:l}):"script"===s&&n.preinitScript(e,{crossOrigin:a,integrity:o,fetchPriority:l,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){var n=i.current;if(n&&"string"==typeof e&&(null==t||"object"==typeof t&&(null==t.as||"script"===t.as))){var s=t?k(void 0,t.crossOrigin):void 0;n.preinitModuleScript(e,{crossOrigin:s,integrity:t&&"string"==typeof t.integrity?t.integrity:void 0})}},t.preload=function(e,t){var n=i.current;if(n&&"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var s=t.as,a=k(s,t.crossOrigin);n.preload(e,s,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0})}},t.preloadModule=function(e,t){var n=i.current;if(n&&"string"==typeof e){if(t){var s=k(t.as,t.crossOrigin);n.preloadModule(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else n.preloadModule(e)}},t.unstable_batchedUpdates=function(e,t){return e(t)},t.version="18.3.0-canary-09285d5a7-20230925"},1023:(e,t,n)=>{"use strict";e.exports=n(2739)},5124:(e,t,n)=>{"use strict";/**
 * @license React
 * react-server-dom-webpack-server.edge.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(6544),s=n(1023),a=null,o=0;function p(e,t){if(0!==t.byteLength){if(512<t.byteLength)0<o&&(e.enqueue(new Uint8Array(a.buffer,0,o)),a=new Uint8Array(512),o=0),e.enqueue(t);else{var n=a.length-o;n<t.byteLength&&(0===n?e.enqueue(a):(a.set(t.subarray(0,n),o),e.enqueue(a),t=t.subarray(n)),a=new Uint8Array(512),o=0),a.set(t,o),o+=t.byteLength}}return!0}var l=new TextEncoder;function ca(e,t){"function"==typeof e.error?e.error(t):e.close()}var u=Symbol.for("react.client.reference"),c=Symbol.for("react.server.reference");function v(e,t,n){return Object.defineProperties(e,{$$typeof:{value:u},$$id:{value:t},$$async:{value:n}})}var h=Function.prototype.bind,d=Array.prototype.slice;function fa(){var e=h.apply(this,arguments);if(this.$$typeof===c){var t=d.call(arguments,1);e.$$typeof=c,e.$$id=this.$$id,e.$$bound=this.$$bound?this.$$bound.concat(t):t}return e}var g=Promise.prototype,m={get:function(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(e.name)+"."+String(t)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function ja(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case"__esModule":var n=e.$$id;return e.default=v(function(){throw Error("Attempted to call the default export of "+n+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#",e.$$async),!0;case"then":if(e.then)return e.then;if(e.$$async)return;var i=v({},e.$$id,!0),s=new Proxy(i,_);return e.status="fulfilled",e.value=s,e.then=v(function(e){return Promise.resolve(e(s))},e.$$id+"#then",!1)}return(i=e[t])||(Object.defineProperty(i=v(function(){throw Error("Attempted to call "+String(t)+"() from the server but "+String(t)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#"+t,e.$$async),"name",{value:t}),i=e[t]=new Proxy(i,m)),i}var _={get:function(e,t){return ja(e,t)},getOwnPropertyDescriptor:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n||(n={value:ja(e,t),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(e,t,n)),n},getPrototypeOf:function(){return g},set:function(){throw Error("Cannot assign to a client module from a server module.")}},b={prefetchDNS:function(e){if("string"==typeof e&&e){var t=w();if(t){var n=t.hints,i="D|"+e;n.has(i)||(n.add(i),x(t,"D",e))}}},preconnect:function(e,t){if("string"==typeof e){var n=w();if(n){var i=n.hints,s="C|"+(null==t?"null":t)+"|"+e;i.has(s)||(i.add(s),"string"==typeof t?x(n,"C",[e,t]):x(n,"C",e))}}},preload:function(e,t,n){if("string"==typeof e){var i=w();if(i){var s=i.hints,a="L";if("image"===t&&n){var o=n.imageSrcSet,l=n.imageSizes,u="";"string"==typeof o&&""!==o?(u+="["+o+"]","string"==typeof l&&(u+="["+l+"]")):u+="[][]"+e,a+="[image]"+u}else a+="["+t+"]"+e;s.has(a)||(s.add(a),(n=y(n))?x(i,"L",[e,t,n]):x(i,"L",[e,t]))}}},preloadModule:function(e,t){if("string"==typeof e){var n=w();if(n){var i=n.hints,s="m|"+e;if(!i.has(s))return i.add(s),(t=y(t))?x(n,"m",[e,t]):x(n,"m",e)}}},preinitStyle:function(e,t,n){if("string"==typeof e){var i=w();if(i){var s=i.hints,a="S|"+e;if(!s.has(a))return s.add(a),(n=y(n))?x(i,"S",[e,"string"==typeof t?t:0,n]):"string"==typeof t?x(i,"S",[e,t]):x(i,"S",e)}}},preinitScript:function(e,t){if("string"==typeof e){var n=w();if(n){var i=n.hints,s="X|"+e;if(!i.has(s))return i.add(s),(t=y(t))?x(n,"X",[e,t]):x(n,"X",e)}}},preinitModuleScript:function(e,t){if("string"==typeof e){var n=w();if(n){var i=n.hints,s="M|"+e;if(!i.has(s))return i.add(s),(t=y(t))?x(n,"M",[e,t]):x(n,"M",e)}}}};function y(e){if(null==e)return null;var t,n=!1,i={};for(t in e)null!=e[t]&&(n=!0,i[t]=e[t]);return n?i:null}var C=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,E="function"==typeof AsyncLocalStorage,A=E?new AsyncLocalStorage:null,O=Symbol.for("react.element"),N=Symbol.for("react.fragment"),j=Symbol.for("react.provider"),$=Symbol.for("react.server_context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),X=Symbol.for("react.default_value"),Y=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator,et=null;function D(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error("The stacks must reach the root at the same time. This is a bug in React.")}else{if(null===n)throw Error("The stacks must reach the root at the same time. This is a bug in React.");D(e,n),t.context._currentValue=t.value}}}function Ka(e){var t=et;t!==e&&(null===t?function Ha(e){var t=e.parent;null!==t&&Ha(t),e.context._currentValue=e.value}(e):null===e?function Ga(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Ga(e)}(t):t.depth===e.depth?D(t,e):t.depth>e.depth?function Ia(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");e.depth===t.depth?D(e,t):Ia(e,t)}(t,e):function Ja(e,t){var n=t.parent;if(null===n)throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");e.depth===n.depth?D(e,n):Ja(e,n),t.context._currentValue=t.value}(t,e),et=e)}function La(e,t){var n=e._currentValue;e._currentValue=t;var i=et;return et=e={parent:i,depth:null===i?0:i.depth+1,context:e,parentValue:n,value:t}}var er=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function Na(){}var en=null;function Pa(){if(null===en)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=en;return en=null,e}var ei=null,es=0,eo=null;function Qa(){var e=eo;return eo=null,e}function Ra(e){return e._currentValue}var el={useMemo:function(e){return e()},useCallback:function(e){return e},useDebugValue:function(){},useDeferredValue:K,useTransition:K,readContext:Ra,useContext:Ra,useReducer:K,useRef:K,useState:K,useInsertionEffect:K,useLayoutEffect:K,useImperativeHandle:K,useEffect:K,useId:function(){if(null===ei)throw Error("useId can only be used while React is rendering");var e=ei.identifierCount++;return":"+ei.identifierPrefix+"S"+e.toString(32)+":"},useSyncExternalStore:K,useCacheRefresh:function(){return Ta},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=Y;return t},use:function(e){if(null!==e&&"object"==typeof e||"function"==typeof e){if("function"==typeof e.then){var t=es;return es+=1,null===eo&&(eo=[]),function(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Na,Na),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:if("string"!=typeof t.status)switch((e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw en=t,er}}(eo,e,t)}if(e.$$typeof===$)return e._currentValue}throw Error("An unsupported type was passed to use(): "+String(e))}};function K(){throw Error("This Hook is not supported in Server Components.")}function Ta(){throw Error("Refreshing the cache is not supported in Server Components.")}function Wa(){return(new AbortController).signal}function Xa(){var e=w();return e?e.cache:new Map}var eu={getCacheSignal:function(){var e=Xa(),t=e.get(Wa);return void 0===t&&(t=Wa(),e.set(Wa,t)),t},getCacheForType:function(e){var t=Xa(),n=t.get(e);return void 0===n&&(n=e(),t.set(e,n)),n}},ec=Array.isArray;function $a(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function ab(e){switch(typeof e){case"string":return JSON.stringify(10>=e.length?e:e.slice(0,10)+"...");case"object":if(ec(e))return"[...]";return"Object"===(e=$a(e))?"{...}":e;case"function":return"function";default:return String(e)}}function M(e,t){var n=$a(e);if("Object"!==n&&"Array"!==n)return n;n=-1;var i=0;if(ec(e)){for(var s="[",a=0;a<e.length;a++){0<a&&(s+=", ");var o=e[a];o="object"==typeof o&&null!==o?M(o):ab(o),""+a===t?(n=s.length,i=o.length,s+=o):s=10>o.length&&40>s.length+o.length?s+o:s+"..."}s+="]"}else if(e.$$typeof===O)s="<"+function L(e){if("string"==typeof e)return e;switch(e){case q:return"Suspense";case H:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return L(e.render);case G:return L(e.type);case z:var t=e._payload;e=e._init;try{return L(e(t))}catch(e){}}return""}(e.type)+"/>";else{for(o=0,s="{",a=Object.keys(e);o<a.length;o++){0<o&&(s+=", ");var l=a[o],u=JSON.stringify(l);s+=('"'+l+'"'===u?l:u)+": ",u="object"==typeof(u=e[l])&&null!==u?M(u):ab(u),l===t?(n=s.length,i=u.length,s+=u):s=10>u.length&&40>s.length+u.length?s+u:s+"..."}s+="}"}return void 0===t?s:-1<n&&0<i?"\n  "+s+"\n  "+(e=" ".repeat(n)+"^".repeat(i)):"\n  "+s}var eh=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=eh.ContextRegistry,ep=JSON.stringify,ef=eh.ReactCurrentDispatcher,eg=eh.ReactCurrentCache;function fb(e){console.error(e)}function gb(){}var ev=null;function w(){if(ev)return ev;if(E){var e=A.getStore();if(e)return e}return null}var em={};function x(e,t,n){n=ep(n),t="H"+t,t=(e.nextChunkId++).toString(16)+":"+t,n=l.encode(t+n+"\n"),e.completedHintChunks.push(n),function(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){var t=e.destination;e.flushScheduled=!0,setTimeout(function(){return R(e,t)},0)}}(e)}function pb(e){if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e}function S(e,t,n,i,s,a){if(null!=i)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if("function"==typeof t)return t.$$typeof===u?[O,t,n,s]:(es=0,eo=a,"object"==typeof(s=t(s))&&null!==s&&"function"==typeof s.then?"fulfilled"===s.status?s.value:function(e){switch(e.status){case"fulfilled":case"rejected":break;default:"string"!=typeof e.status&&(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))}return{$$typeof:z,_payload:e,_init:pb}}(s):s);if("string"==typeof t)return[O,t,n,s];if("symbol"==typeof t)return t===N?s.children:[O,t,n,s];if(null!=t&&"object"==typeof t){if(t.$$typeof===u)return[O,t,n,s];switch(t.$$typeof){case z:return S(e,t=(0,t._init)(t._payload),n,i,s,a);case B:return e=t.render,es=0,eo=a,e(s,void 0);case G:return S(e,t.type,n,i,s,a);case j:return La(t._context,s.value),[O,t,n,{value:s.value,children:s.children,__pop:em}]}}throw Error("Unsupported Server Component type: "+ab(t))}function nb(e,t){var n=e.pingedTasks;n.push(t),1===n.length&&(e.flushScheduled=null!==e.destination,setTimeout(function(){return rb(e)},0))}function kb(e,t,n,i){var s={id:e.nextChunkId++,status:0,model:t,context:n,ping:function(){return nb(e,s)},thenableState:null};return i.add(s),s}function T(e){return"$"+e.toString(16)}function sb(e,t,n){return e=ep(n),t=t.toString(16)+":"+e+"\n",l.encode(t)}function tb(e,t,n,i){var s=i.$$async?i.$$id+"#async":i.$$id,a=e.writtenClientReferences,o=a.get(s);if(void 0!==o)return t[0]===O&&"1"===n?"$L"+o.toString(16):T(o);try{var u=e.bundlerConfig,c=i.$$id;o="";var h=u[c];if(h)o=h.name;else{var d=c.lastIndexOf("#");if(-1!==d&&(o=c.slice(d+1),h=u[c.slice(0,d)]),!h)throw Error('Could not find the module "'+c+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}var g={id:h.id,chunks:h.chunks,name:o,async:!!i.$$async};e.pendingChunks++;var m=e.nextChunkId++,_=ep(g),b=m.toString(16)+":I"+_+"\n",C=l.encode(b);return e.completedImportChunks.push(C),a.set(s,m),t[0]===O&&"1"===n?"$L"+m.toString(16):T(m)}catch(i){return e.pendingChunks++,t=e.nextChunkId++,n=P(e,i),Q(e,t,n),T(t)}}function ub(e,t){e.pendingChunks++;var n=e.nextChunkId++;return vb(e,n,t),n}function P(e,t){if(null!=(t=(e=e.onError)(t))&&"string"!=typeof t)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t||""}function wb(e,t){null!==e.destination?(e.status=2,ca(e.destination,t)):(e.status=1,e.fatalError=t)}function Q(e,t,n){n={digest:n},t=t.toString(16)+":E"+ep(n)+"\n",t=l.encode(t),e.completedErrorChunks.push(t)}function vb(e,t,n){n=ep(n,e.toJSON),t=t.toString(16)+":"+n+"\n",t=l.encode(t),e.completedRegularChunks.push(t)}function rb(e){var t=ef.current;ef.current=el;var n=ev;ei=ev=e;try{var i=e.pingedTasks;e.pingedTasks=[];for(var s=0;s<i.length;s++){var a=i[s];if(0===a.status){Ka(a.context);try{var o=a.model;if("object"==typeof o&&null!==o&&o.$$typeof===O){var l=o,u=a.thenableState;for(a.model=o,o=S(e,l.type,l.key,l.ref,l.props,u),a.thenableState=null;"object"==typeof o&&null!==o&&o.$$typeof===O;)l=o,a.model=o,o=S(e,l.type,l.key,l.ref,l.props,null)}vb(e,a.id,o),e.abortableTasks.delete(a),a.status=1}catch(t){var c=t===er?Pa():t;if("object"==typeof c&&null!==c&&"function"==typeof c.then){var h=a.ping;c.then(h,h),a.thenableState=Qa()}else{e.abortableTasks.delete(a),a.status=4;var d=P(e,c);Q(e,a.id,d)}}}}null!==e.destination&&R(e,e.destination)}catch(t){P(e,t),wb(e,t)}finally{ef.current=t,ei=null,ev=n}}function R(e,t){a=new Uint8Array(512),o=0;try{for(var n=e.completedImportChunks,i=0;i<n.length;i++)e.pendingChunks--,p(t,n[i]);n.splice(0,i);var s=e.completedHintChunks;for(i=0;i<s.length;i++)p(t,s[i]);s.splice(0,i);var l=e.completedRegularChunks;for(i=0;i<l.length;i++)e.pendingChunks--,p(t,l[i]);l.splice(0,i);var u=e.completedErrorChunks;for(i=0;i<u.length;i++)e.pendingChunks--,p(t,u[i]);u.splice(0,i)}finally{e.flushScheduled=!1,a&&0<o&&(t.enqueue(new Uint8Array(a.buffer,0,o)),a=null,o=0)}0===e.pendingChunks&&t.close()}function yb(e,t){try{var n=e.abortableTasks;if(0<n.size){var i=void 0===t?Error("The render was aborted by the server without a reason."):t,s=P(e,i);e.pendingChunks++;var a=e.nextChunkId++;Q(e,a,s,i),n.forEach(function(t){t.status=3;var n=T(a);t=sb(e,t.id,n),e.completedErrorChunks.push(t)}),n.clear()}null!==e.destination&&R(e,e.destination)}catch(t){P(e,t),wb(e,t)}}function zb(e,t){var n="",i=e[t];if(i)n=i.name;else{var s=t.lastIndexOf("#");if(-1!==s&&(n=t.slice(s+1),i=e[t.slice(0,s)]),!i)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return{id:i.id,chunks:i.chunks,name:n,async:!1}}var ey=new Map;function Ab(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function Bb(){}function Cb(e){for(var t=e.chunks,n=[],i=0;i<t.length;i++){var s=t[i],a=ey.get(s);if(void 0===a){a=globalThis.__next_chunk_load__(s),n.push(a);var o=ey.set.bind(ey,s,null);a.then(o,Bb),ey.set(s,a)}else null!==a&&n.push(a)}return e.async?0===n.length?Ab(e.id):Promise.all(n).then(function(){return Ab(e.id)}):0<n.length?Promise.all(n):null}function V(e){var t=globalThis.__next_require__(e.id);if(e.async&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e.name?t:""===e.name?t.__esModule?t.default:t:t[e.name]}function W(e,t,n,i){this.status=e,this.value=t,this.reason=n,this._response=i}function Eb(e,t){for(var n=0;n<e.length;n++)(0,e[n])(t)}function Fb(e,t){if("pending"===e.status||"blocked"===e.status){var n=e.reason;e.status="rejected",e.reason=t,null!==n&&Eb(n,t)}}W.prototype=Object.create(Promise.prototype),W.prototype.then=function(e,t){switch("resolved_model"===this.status&&Db(this),this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var e_=null,eb=null;function Db(e){var t=e_,n=eb;e_=e,eb=null;try{var i=JSON.parse(e.value,e._response._fromJSON);null!==eb&&0<eb.deps?(eb.value=i,e.status="blocked",e.value=null,e.reason=null):(e.status="fulfilled",e.value=i)}catch(t){e.status="rejected",e.reason=t}finally{e_=t,eb=n}}function Z(e,t){var n=e._chunks,i=n.get(t);return i||(i=null!=(i=e._formData.get(e._prefix+t))?new W("resolved_model",i,null,e):new W("pending",null,null,e),n.set(t,i)),i}function Hb(e,t,n){if(eb){var i=eb;i.deps++}else i=eb={deps:1,value:null};return function(s){t[n]=s,i.deps--,0===i.deps&&"blocked"===e.status&&(s=e.value,e.status="fulfilled",e.value=i.value,null!==s&&Eb(s,i.value))}}function Ib(e){return function(t){return Fb(e,t)}}function Kb(e,t){if("resolved_model"===(e=Z(e,t)).status&&Db(e),"fulfilled"!==e.status)throw e.reason;return e.value}function Pb(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new FormData,i={_bundlerConfig:e,_prefix:t,_formData:n,_chunks:new Map,_fromJSON:function(e,t){return"string"==typeof t?function(e,t,n,i){if("$"===i[0])switch(i[1]){case"$":return i.slice(1);case"@":return Z(e,t=parseInt(i.slice(2),16));case"S":return Symbol.for(i.slice(2));case"F":return i=Kb(e,i=parseInt(i.slice(2),16)),function(e,t,n,i,s,a){var o=zb(e._bundlerConfig,t);if(e=Cb(o),n)n=Promise.all([n,e]).then(function(e){e=e[0];var t=V(o);return t.bind.apply(t,[null].concat(e))});else{if(!e)return V(o);n=Promise.resolve(e).then(function(){return V(o)})}return n.then(Hb(i,s,a),Ib(i)),null}(e,i.id,i.bound,e_,t,n);case"Q":return e=Kb(e,t=parseInt(i.slice(2),16)),new Map(e);case"W":return e=Kb(e,t=parseInt(i.slice(2),16)),new Set(e);case"K":t=i.slice(2);var s=e._prefix+t+"_",a=new FormData;return e._formData.forEach(function(e,t){t.startsWith(s)&&a.append(t.slice(s.length),e)}),a;case"I":return 1/0;case"-":return"$-0"===i?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(i.slice(2)));case"n":return BigInt(i.slice(2));default:switch("resolved_model"===(e=Z(e,i=parseInt(i.slice(1),16))).status&&Db(e),e.status){case"fulfilled":return e.value;case"pending":case"blocked":return i=e_,e.then(Hb(i,t,n),Ib(i)),null;default:throw e.reason}}return i}(i,this,e,t):t}};return i}function Qb(e){!function(e,t){e._chunks.forEach(function(e){"pending"===e.status&&Fb(e,t)})}(e,Error("Connection closed."))}function Rb(e,t,n){var i=zb(e,t);return e=Cb(i),n?Promise.all([n,e]).then(function(e){e=e[0];var t=V(i);return t.bind.apply(t,[null].concat(e))}):e?Promise.resolve(e).then(function(){return V(i)}):Promise.resolve(V(i))}function Sb(e,t,n){if(Qb(e=Pb(t,n,e)),(e=Z(e,0)).then(function(){}),"fulfilled"!==e.status)throw e.reason;return e.value}t.createClientModuleProxy=function(e){return e=v({},e,!1),new Proxy(e,_)},t.decodeAction=function(e,t){var n=new FormData,i=null;return e.forEach(function(s,a){a.startsWith("$ACTION_")?a.startsWith("$ACTION_REF_")?(s=Sb(e,t,s="$ACTION_"+a.slice(12)+":"),i=Rb(t,s.id,s.bound)):a.startsWith("$ACTION_ID_")&&(i=Rb(t,s=a.slice(11),null)):n.append(a,s)}),null===i?null:i.then(function(e){return e.bind(null,n)})},t.decodeFormState=function(e,t,n){var i=t.get("$ACTION_KEY");if("string"!=typeof i)return Promise.resolve(null);var s=null;if(t.forEach(function(e,i){i.startsWith("$ACTION_REF_")&&(s=Sb(t,n,"$ACTION_"+i.slice(12)+":"))}),null===s)return Promise.resolve(null);var a=s.id;return Promise.resolve(s.bound).then(function(t){return null===t?null:[e,i,a,t.length-1]})},t.decodeReply=function(e,t){if("string"==typeof e){var n=new FormData;n.append("0",e),e=n}return Qb(e=Pb(t,"",e)),Z(e,0)},t.registerClientReference=function(e,t,n){return v(e,t+"#"+n,!1)},t.registerServerReference=function(e,t,n){return Object.defineProperties(e,{$$typeof:{value:c},$$id:{value:null===n?t:t+"#"+n},$$bound:{value:null},bind:{value:fa}})},t.renderToReadableStream=function(e,t,n){var s=function(e,t,n,s,a,o){if(null!==eg.current&&eg.current!==eu)throw Error("Currently React only supports one RSC renderer at a time.");C.current=b,eg.current=eu;var h=new Set,d=[],g=new Set,m={status:0,flushScheduled:!1,fatalError:null,destination:null,bundlerConfig:t,cache:new Map,nextChunkId:0,pendingChunks:0,hints:g,abortableTasks:h,pingedTasks:d,completedImportChunks:[],completedHintChunks:[],completedRegularChunks:[],completedErrorChunks:[],writtenSymbols:new Map,writtenClientReferences:new Map,writtenServerReferences:new Map,writtenProviders:new Map,identifierPrefix:a||"",identifierCount:1,onError:void 0===n?fb:n,onPostpone:void 0===o?gb:o,toJSON:function(e,t){return function(e,t,n,i){if(i===O)return"$";for(;"object"==typeof i&&null!==i&&(i.$$typeof===O||i.$$typeof===z);)try{switch(i.$$typeof){case O:var s=i;i=S(e,s.type,s.key,s.ref,s.props,null);break;case z:var a=i._init;i=a(i._payload)}}catch(t){if("object"==typeof(n=t===er?Pa():t)&&null!==n&&"function"==typeof n.then)return e.pendingChunks++,i=(e=kb(e,i,et,e.abortableTasks)).ping,n.then(i,i),e.thenableState=Qa(),"$L"+e.id.toString(16);return e.pendingChunks++,i=e.nextChunkId++,n=P(e,n),Q(e,i,n),"$L"+i.toString(16)}if(null===i)return null;if("object"==typeof i){if(i.$$typeof===u)return tb(e,t,n,i);if("function"==typeof i.then)return"$@"+(function(e,t){e.pendingChunks++;var n=kb(e,null,et,e.abortableTasks);switch(t.status){case"fulfilled":return n.model=t.value,nb(e,n),n.id;case"rejected":var i=P(e,t.reason);return Q(e,n.id,i),n.id;default:"string"!=typeof t.status&&(t.status="pending",t.then(function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)},function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))}return t.then(function(t){n.model=t,nb(e,n)},function(t){n.status=4,e.abortableTasks.delete(n),t=P(e,t),Q(e,n.id,t),null!==e.destination&&R(e,e.destination)}),n.id})(e,i).toString(16);if(i.$$typeof===j)return i=i._context._globalName,void 0===(n=(t=e.writtenProviders).get(n))&&(e.pendingChunks++,n=e.nextChunkId++,t.set(i,n),i=sb(e,n,"$P"+i),e.completedRegularChunks.push(i)),T(n);if(i===em){if(null===(e=et))throw Error("Tried to pop a Context at the root of the app. This is a bug in React.");i=e.parentValue,e.context._currentValue=i===X?e.context._defaultValue:i,et=e.parent;return}return i instanceof Map?"$Q"+ub(e,Array.from(i)).toString(16):i instanceof Set?"$W"+ub(e,Array.from(i)).toString(16):!ec(i)&&(e=null===i||"object"!=typeof i?null:"function"==typeof(e=ee&&i[ee]||i["@@iterator"])?e:null)?Array.from(i):i}if("string"==typeof i)return"Z"===i[i.length-1]&&t[n]instanceof Date?"$D"+i:1024<=i.length?(e.pendingChunks+=2,n=e.nextChunkId++,t=(i=l.encode(i)).byteLength,t=n.toString(16)+":T"+t.toString(16)+",",t=l.encode(t),e.completedRegularChunks.push(t,i),T(n)):e="$"===i[0]?"$"+i:i;if("boolean"==typeof i)return i;if("number"==typeof i)return Number.isFinite(e=i)?0===e&&-1/0==1/e?"$-0":e:1/0===e?"$Infinity":-1/0===e?"$-Infinity":"$NaN";if(void 0===i)return"$undefined";if("function"==typeof i){if(i.$$typeof===u)return tb(e,t,n,i);if(i.$$typeof===c)return void 0!==(t=(n=e.writtenServerReferences).get(i))?e="$F"+t.toString(16):(t=i.$$bound,e=ub(e,t={id:i.$$id,bound:t?Promise.resolve(t):null}),n.set(i,e),e="$F"+e.toString(16)),e;if(/^on[A-Z]/.test(n))throw Error("Event handlers cannot be passed to Client Component props."+M(t,n)+"\nIf you need interactivity, consider converting part of this to a Client Component.");throw Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server".'+M(t,n))}if("symbol"==typeof i){if(void 0!==(a=(s=e.writtenSymbols).get(i)))return T(a);if(Symbol.for(a=i.description)!==i)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+i.description+") cannot be found among global symbols."+M(t,n));return e.pendingChunks++,n=e.nextChunkId++,t=sb(e,n,"$S"+a),e.completedImportChunks.push(t),s.set(i,n),T(n)}if("bigint"==typeof i)return"$n"+i.toString(10);throw Error("Type "+typeof i+" is not supported in Client Component props."+M(t,n))}(m,this,e,t)}};return m.pendingChunks++,e=kb(m,e,t=function(e){if(e){var t=et;Ka(null);for(var n=0;n<e.length;n++){var s=e[n],a=s[0];s=s[1],ed[a]||(ed[a]=i.createServerContext(a,X)),La(ed[a],s)}return e=et,Ka(t),e}return null}(s),h),d.push(e),m}(e,t,n?n.onError:void 0,n?n.context:void 0,n?n.identifierPrefix:void 0,n?n.onPostpone:void 0);if(n&&n.signal){var a=n.signal;if(a.aborted)yb(s,a.reason);else{var f=function(){yb(s,a.reason),a.removeEventListener("abort",f)};a.addEventListener("abort",f)}}return new ReadableStream({type:"bytes",start:function(){s.flushScheduled=null!==s.destination,E?setTimeout(function(){return A.run(s,rb,s)},0):setTimeout(function(){return rb(s)},0)},pull:function(e){if(1===s.status)s.status=2,ca(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{R(s,e)}catch(e){P(s,e),wb(s,e)}}},cancel:function(e){s.destination=null,yb(s,e)}},{highWaterMark:0})}},9278:(e,t,n)=>{"use strict";e.exports=n(5124)},5417:(e,t)=>{"use strict";/**
 * @license React
 * react.shared-subset.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Object.assign,i={current:null};function p(){return new Map}if("function"==typeof fetch){var s=fetch,r=function(e,t){var n=i.current;if(!n||t&&t.signal&&t.signal!==n.getCacheSignal())return s(e,t);if("string"!=typeof e||t){var a="string"==typeof e||e instanceof URL?new Request(e,t):e;if("GET"!==a.method&&"HEAD"!==a.method||a.keepalive)return s(e,t);var o=JSON.stringify([a.method,Array.from(a.headers.entries()),a.mode,a.redirect,a.credentials,a.referrer,a.referrerPolicy,a.integrity]);a=a.url}else o='["GET",[],null,"follow",null,null,null,null]',a=e;var l=n.getCacheForType(p);if(void 0===(n=l.get(a)))e=s(e,t),l.set(a,[o,e]);else{for(a=0,l=n.length;a<l;a+=2){var u=n[a+1];if(n[a]===o)return(e=u).then(function(e){return e.clone()})}e=s(e,t),n.push(o,e)}return e.then(function(e){return e.clone()})};n(r,s);try{fetch=r}catch(e){try{globalThis.fetch=r}catch(e){console.warn("React was unable to patch the fetch() function in this environment. Suspensey APIs might not work correctly as a result.")}}}var a=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),d=Symbol.for("react.server_context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.default_value"),E=Symbol.iterator;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O={};function I(e,t,n){this.props=e,this.context=t,this.refs=O,this.updater=n||A}function J(){}function K(e,t,n){this.props=e,this.context=t,this.refs=O,this.updater=n||A}I.prototype.isReactComponent={},I.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(F(85));this.updater.enqueueSetState(this,e,t,"setState")},I.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},J.prototype=I.prototype;var N=K.prototype=new J;N.constructor=K,n(N,I.prototype),N.isPureReactComponent=!0;var j=Array.isArray,$=Object.prototype.hasOwnProperty,B={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Q(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var H=/\/+/g;function S(e,t){var n,i;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return i[e]})):t.toString(36)}function U(e,t,n){if(null==e)return e;var i=[],s=0;return!function T(e,t,n,i,s){var l,u,c,h=typeof e;("undefined"===h||"boolean"===h)&&(e=null);var d=!1;if(null===e)d=!0;else switch(h){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case o:d=!0}}if(d)return s=s(d=e),e=""===i?"."+S(d,0):i,j(s)?(n="",null!=e&&(n=e.replace(H,"$&/")+"/"),T(s,t,n,"",function(e){return e})):null!=s&&(Q(s)&&(l=s,u=n+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(H,"$&/")+"/")+e,s={$$typeof:a,type:l.type,key:u,ref:l.ref,props:l.props,_owner:l._owner}),t.push(s)),1;if(d=0,i=""===i?".":i+":",j(e))for(var g=0;g<e.length;g++){var m=i+S(h=e[g],g);d+=T(h,t,n,m,s)}else if("function"==typeof(m=null===(c=e)||"object"!=typeof c?null:"function"==typeof(c=E&&c[E]||c["@@iterator"])?c:null))for(e=m.call(e),g=0;!(h=e.next()).done;)m=i+S(h=h.value,g++),d+=T(h,t,n,m,s);else if("object"===h)throw Error(F(31,"[object Object]"===(t=String(e))?"object with keys {"+Object.keys(e).join(", ")+"}":t));return d}(e,i,"","",function(e){return t.call(n,e,s++)}),i}function da(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function ea(){return new WeakMap}function V(){return{s:0,v:void 0,o:null,p:null}}var G={current:null},z={transition:null},X={ReactCurrentDispatcher:G,ReactCurrentCache:i,ReactCurrentBatchConfig:z,ReactCurrentOwner:B,ContextRegistry:{}},Y=X.ContextRegistry;t.Children={map:U,forEach:function(e,t,n){U(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return U(e,function(){t++}),t},toArray:function(e){return U(e,function(e){return e})||[]},only:function(e){if(!Q(e))throw Error(F(143));return e}},t.Fragment=l,t.Profiler=c,t.StrictMode=u,t.Suspense=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,t.cache=function(e){return function(){var t=i.current;if(!t)return e.apply(null,arguments);var n=t.getCacheForType(ea);void 0===(t=n.get(e))&&(t=V(),n.set(e,t)),n=0;for(var s=arguments.length;n<s;n++){var a=arguments[n];if("function"==typeof a||"object"==typeof a&&null!==a){var o=t.o;null===o&&(t.o=o=new WeakMap),void 0===(t=o.get(a))&&(t=V(),o.set(a,t))}else null===(o=t.p)&&(t.p=o=new Map),void 0===(t=o.get(a))&&(t=V(),o.set(a,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var l=e.apply(null,arguments);return(n=t).s=1,n.v=l}catch(e){throw(l=t).s=2,l.v=e,e}}},t.cloneElement=function(e,t,i){if(null==e)throw Error(F(267,e));var s=n({},e.props),o=e.key,l=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,u=B.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)$.call(t,h)&&!q.hasOwnProperty(h)&&(s[h]=void 0===t[h]&&void 0!==c?c[h]:t[h])}var h=arguments.length-2;if(1===h)s.children=i;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:a,type:e.type,key:o,ref:l,props:s,_owner:u}},t.createElement=function(e,t,n){var i,s={},o=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)$.call(t,i)&&!q.hasOwnProperty(i)&&(s[i]=t[i]);var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===s[i]&&(s[i]=u[i]);return{$$typeof:a,type:e,key:o,ref:l,props:s,_owner:B.current}},t.createRef=function(){return{current:null}},t.createServerContext=function(e,t){var n=!0;if(!Y[e]){n=!1;var i={$$typeof:d,_currentValue:t,_currentValue2:t,_defaultValue:t,_threadCount:0,Provider:null,Consumer:null,_globalName:e};i.Provider={$$typeof:h,_context:i},Y[e]=i}if((i=Y[e])._defaultValue===C)i._defaultValue=t,i._currentValue===C&&(i._currentValue=t),i._currentValue2===C&&(i._currentValue2=t);else if(n)throw Error(F(429,e));return i},t.forwardRef=function(e){return{$$typeof:g,render:e}},t.isValidElement=Q,t.lazy=function(e){return{$$typeof:b,_payload:{_status:-1,_result:e},_init:da}},t.memo=function(e,t){return{$$typeof:_,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.use=function(e){return G.current.use(e)},t.useCallback=function(e,t){return G.current.useCallback(e,t)},t.useContext=function(e){return G.current.useContext(e)},t.useDebugValue=function(){},t.useId=function(){return G.current.useId()},t.useMemo=function(e,t){return G.current.useMemo(e,t)},t.version="18.3.0-canary-09285d5a7-20230925"},6544:(e,t,n)=>{"use strict";e.exports=n(5417)},718:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var i=n(9278);let s=i.createClientModuleProxy},4313:(e,t,n)=>{"use strict";n.d(t,{H4:()=>l,i4:()=>i,ph:()=>s,pz:()=>a,vu:()=>o});let i="RSC",s="Next-Router-State-Tree",a="Next-Router-Prefetch",o=[[i],[s],[a]],l="_rsc"},7842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cookies:()=>headers_cookies,draftMode:()=>draftMode,headers:()=>headers_headers});var i=n(3576),s=n(7664),a=n(3764),o=n(1276),l=n(4927),u=n(474);let DraftMode=class DraftMode{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,u.o)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,u.o)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}};function headers_headers(){if((0,u.o)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return s.h.seal(new Headers({}));let e=o.F.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function headers_cookies(){if((0,u.o)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return i.Qb.seal(new a.q(new Headers({})));let e=o.F.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=l.W.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function draftMode(){let e=o.F.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new DraftMode(e.draftMode)}},3779:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DYNAMIC_ERROR_CODE:()=>i,DynamicServerError:()=>DynamicServerError});let i="DYNAMIC_SERVER_USAGE";let DynamicServerError=class DynamicServerError extends Error{constructor(e){super("Dynamic server usage: "+e),this.digest=i}}},474:(e,t,n)=>{"use strict";n.d(t,{o:()=>staticGenerationBailout});var i=n(3779),s=n(4083);let StaticGenBailoutError=class StaticGenBailoutError extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}};function formatErrorMessage(e,t){let{dynamic:n,link:i}=t||{};return"Page"+(n?' with `dynamic = "'+n+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(i?" See more info here: "+i:"")}let staticGenerationBailout=(e,t)=>{let n=s.A.getStore();if(null==n?void 0:n.forceStatic)return!0;if(null==n?void 0:n.dynamicShouldError){var a;throw new StaticGenBailoutError(formatErrorMessage(e,{...t,dynamic:null!=(a=null==t?void 0:t.dynamic)?a:"error"}))}if(!n||(n.revalidate=0,(null==t?void 0:t.dynamic)||(n.staticPrefetchBailout=!0)),null==n?void 0:n.isStaticGeneration){let s=new i.DynamicServerError(formatErrorMessage(e,{...t,link:"https://nextjs.org/docs/messages/dynamic-server-error"}));throw n.dynamicUsageDescription=e,n.dynamicUsageStack=s.stack,s}return!1}},6824:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>l,BR:()=>g,Et:()=>o,Ho:()=>h,Qq:()=>a,X_:()=>c,dN:()=>i,of:()=>u,y3:()=>s,zt:()=>d});let i="nxtP",s="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",o="x-next-cache-tags",l="x-next-cache-soft-tags",u="x-next-revalidated-tags",c="x-next-revalidate-tag-token",h=256,d="_N_T_",g=31536e3,m={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...m,GROUP:{server:[m.reactServerComponents,m.actionBrowser,m.appMetadataRoute,m.appRouteHandler],nonClientServerTarget:[m.middleware,m.api],app:[m.reactServerComponents,m.actionBrowser,m.appMetadataRoute,m.appRouteHandler,m.serverSideRendering,m.appPagesBrowser]}})},2533:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var i=n(4313),s=n(7664),a=n(3576),o=n(3764),l=n(6824);let u="__prerender_bypass";Symbol("__next_preview_data"),Symbol(u);let DraftModeProvider=class DraftModeProvider{constructor(e,t,n,i){var a;let o=e&&function(e,t){let n=s.h.from(e.headers),i=n.get(l.y3),a=i===t.previewModeId,o=n.has(l.Qq);return{isOnDemandRevalidate:a,revalidateOnlyGenerated:o}}(t,e).isOnDemandRevalidate,c=null==(a=n.get(u))?void 0:a.value;this.isEnabled=!!(!o&&c&&e&&c===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=i}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:u,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:u,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}};let c={wrap(e,{req:t,res:n,renderOpts:l},u){let c;function defaultOnUpdateCookies(e){n&&n.setHeader("Set-Cookie",e)}l&&"previewProps"in l&&(c=l.previewProps);let h={},d={get headers(){return h.headers||(h.headers=function(e){let t=s.h.from(e);for(let e of i.vu)t.delete(e.toString().toLowerCase());return s.h.seal(t)}(t.headers)),h.headers},get cookies(){return h.cookies||(h.cookies=function(e){let t=new o.q(s.h.from(e));return a.Qb.seal(t)}(t.headers)),h.cookies},get mutableCookies(){return h.mutableCookies||(h.mutableCookies=function(e,t){let n=new o.q(s.h.from(e));return a.vr.wrap(n,t)}(t.headers,(null==l?void 0:l.onUpdateCookies)||(n?defaultOnUpdateCookies:void 0))),h.mutableCookies},get draftMode(){return h.draftMode||(h.draftMode=new DraftModeProvider(c,t,this.cookies,this.mutableCookies)),h.draftMode}};return e.run(d,u,d)}}},6085:(e,t,n)=>{"use strict";var i;n.d(t,{x:()=>i}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(i||(i={}))},8333:(e,t,n)=>{"use strict";e.exports=n(4649)},4649:(e,t,n)=>{"use strict";let i;n.d(t,{AppRouteRouteModule:()=>AppRouteRouteModule});var s,a,o,l,u,c,h,d,g,m,_,b,C,E={};n.r(E),n.d(E,{AppRouterContext:()=>eI,CacheStates:()=>eO,GlobalLayoutRouterContext:()=>ej,LayoutRouterContext:()=>eN,TemplateContext:()=>eM});var A={};n.r(A),n.d(A,{appRouterContext:()=>E});let RouteModule=class RouteModule{constructor({userland:e,definition:t}){this.userland=e,this.definition=t}};var O=n(2533);let N={wrap(e,{urlPathname:t,renderOpts:n},i){let s=!n.supportsDynamicHTML&&!n.isDraftMode&&!n.isServerAction,a={isStaticGeneration:s,urlPathname:t,pagePath:n.originalPathname,incrementalCache:n.incrementalCache||globalThis.__incrementalCache,isRevalidate:n.isRevalidate,isPrerendering:n.nextExport,fetchCache:n.fetchCache,isOnDemandRevalidate:n.isOnDemandRevalidate,isDraftMode:n.isDraftMode};return n.store=a,e.run(a,i,a)}};var j=n(3576);function handleBadRequestResponse(){return new Response(null,{status:400})}function handleMethodNotAllowedResponse(){return new Response(null,{status:405})}let $=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];!function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(s||(s={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(a||(a={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(o||(o={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(l||(l={})),(u||(u={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(c||(c={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(h||(h={})),(d||(d={})).executeRoute="Router.executeRoute",(g||(g={})).runHandler="Node.runHandler",(m||(m={})).runHandler="AppRouteRouteHandlers.runHandler",(_||(_={})).generateMetadata="ResolveMetadata.generateMetadata";let B=["BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata"];i=n(6581);let{context:q,trace:H,SpanStatusCode:G,SpanKind:z}=i,isPromise=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,closeSpanWithError=(e,t)=>{t&&e.recordException(t),e.setStatus({code:G.ERROR,message:null==t?void 0:t.message}),e.end()},X=new Map,Y=i.createContextKey("next.rootSpanId"),ee=0,getSpanId=()=>ee++;let NextTracerImpl=class NextTracerImpl{getTracerInstance(){return H.getTracer("next.js","0.0.1")}getContext(){return q}getActiveScopeSpan(){return H.getSpan(null==q?void 0:q.active())}trace(...e){let[t,n,s]=e,{fn:a,options:o}="function"==typeof n?{fn:n,options:{}}:{fn:s,options:{...n}};if(!B.includes(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||o.hideSpan)return a();let l=o.spanName??t,u=this.getSpanContext((null==o?void 0:o.parentSpan)??this.getActiveScopeSpan()),c=!1;u||(u=i.ROOT_CONTEXT,c=!0);let h=getSpanId();return o.attributes={"next.span_name":l,"next.span_type":t,...o.attributes},i.context.with(u.setValue(Y,h),()=>this.getTracerInstance().startActiveSpan(l,o,e=>{let onCleanup=()=>{X.delete(h)};c&&X.set(h,new Map(Object.entries(o.attributes??{})));try{if(a.length>1)return a(e,t=>closeSpanWithError(e,t));let t=a(e);return isPromise(t)?t.then(()=>e.end(),t=>closeSpanWithError(e,t)).finally(onCleanup):(e.end(),onCleanup()),t}catch(t){throw closeSpanWithError(e,t),onCleanup(),t}}))}wrap(...e){let t=this,[n,i,s]=3===e.length?e:[e[0],{},e[1]];return B.includes(n)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=i;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let a=arguments.length-1,o=arguments[a];if("function"!=typeof o)return t.trace(n,e,()=>s.apply(this,arguments));{let i=t.getContext().bind(q.active(),o);return t.trace(n,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),i.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,n]=e,i=this.getSpanContext((null==n?void 0:n.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,n,i)}getSpanContext(e){let t=e?H.setSpan(q.active(),e):void 0;return t}getRootSpanAttributes(){let e=q.active().getValue(Y);return X.get(e)}};let et=(()=>{let e=new NextTracerImpl;return()=>e})();var er=n(6824);let{env:en,stdout:ei}=(null==(b=globalThis)?void 0:b.process)??{},es=en&&!en.NO_COLOR&&(en.FORCE_COLOR||(null==ei?void 0:ei.isTTY)&&!en.CI&&"dumb"!==en.TERM),replaceClose=(e,t,n,i)=>{let s=e.substring(0,i)+n,a=e.substring(i+t.length),o=a.indexOf(t);return~o?s+replaceClose(a,t,n,o):s+a},formatter=(e,t,n=e)=>i=>{let s=""+i,a=s.indexOf(t,e.length);return~a?e+replaceClose(s,t,n,a)+t:e+s+t},eo=es?formatter("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"):String;es&&formatter("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),es&&formatter("\x1b[3m","\x1b[23m"),es&&formatter("\x1b[4m","\x1b[24m"),es&&formatter("\x1b[7m","\x1b[27m"),es&&formatter("\x1b[8m","\x1b[28m"),es&&formatter("\x1b[9m","\x1b[29m"),es&&formatter("\x1b[30m","\x1b[39m");let el=es?formatter("\x1b[31m","\x1b[39m"):String,eu=es?formatter("\x1b[32m","\x1b[39m"):String,ec=es?formatter("\x1b[33m","\x1b[39m"):String;es&&formatter("\x1b[34m","\x1b[39m");let eh=es?formatter("\x1b[35m","\x1b[39m"):String;es&&formatter("\x1b[36m","\x1b[39m");let ed=es?formatter("\x1b[37m","\x1b[39m"):String;es&&formatter("\x1b[90m","\x1b[39m"),es&&formatter("\x1b[40m","\x1b[49m"),es&&formatter("\x1b[41m","\x1b[49m"),es&&formatter("\x1b[42m","\x1b[49m"),es&&formatter("\x1b[43m","\x1b[49m"),es&&formatter("\x1b[44m","\x1b[49m"),es&&formatter("\x1b[45m","\x1b[49m"),es&&formatter("\x1b[46m","\x1b[49m"),es&&formatter("\x1b[47m","\x1b[49m");let ep={wait:ed(eo("")),error:el(eo("")),warn:ec(eo("")),ready:eo(""),info:ed(eo(" ")),event:eu(eo("")),trace:eh(eo("\xbb"))},ef={log:"log",warn:"warn",error:"error"};var eg=n(6195).Buffer;let getDerivedTags=e=>{let t=["/layout"];if(e.startsWith("/")){let n=e.split("/");for(let e=1;e<n.length+1;e++){let i=n.slice(0,e).join("/");i&&(i.endsWith("/page")||i.endsWith("/route")||(i=`${i}${i.endsWith("/")?"":"/"}layout`),t.push(i))}}return t};function addImplicitTags(e){var t,n;let i=[];if(!e)return i;let{pagePath:s,urlPathname:a}=e;if(Array.isArray(e.tags)||(e.tags=[]),s){let n=getDerivedTags(s);for(let s of n)s=`${er.zt}${s}`,(null==(t=e.tags)?void 0:t.includes(s))||e.tags.push(s),i.push(s)}if(a){let t=`${er.zt}${a}`;(null==(n=e.tags)?void 0:n.includes(t))||e.tags.push(t),i.push(t)}return i}function trackFetchMetric(e,t){if(!e)return;e.fetchMetrics||(e.fetchMetrics=[]);let n=["url","status","method"];e.fetchMetrics.some(e=>n.every(n=>e[n]===t[n]))||e.fetchMetrics.push({url:t.url,cacheStatus:t.cacheStatus,cacheReason:t.cacheReason,status:t.status,method:t.method,start:t.start,end:Date.now(),idx:e.nextFetchId||0})}var ev=n(1690),em=n(6256);function cleanURL(e){let t=new URL(e);return t.host="localhost:3000",t.search="",t.protocol="http",t.toString()}var ey=n(1276);function isRedirectError(e){if("string"!=typeof(null==e?void 0:e.digest))return!1;let[t,n,i,s]=e.digest.split(";",4);return"NEXT_REDIRECT"===t&&("replace"===n||"push"===n)&&"string"==typeof i&&("true"===s||"false"===s)}!function(e){e.push="push",e.replace="replace"}(C||(C={}));let e_=["HEAD","OPTIONS"],eb=["OPTIONS","POST","PUT","DELETE","PATCH"];var ew=n(6085),eS=n(3779),eC=n(7842),eE=n(474),ex=n(4083),eP=n(4927),ek=n(718);let eT=(0,ek.D)(String.raw`/Users/hamedyaghouti/Desktop/Projects/learning/supabase/supabase-nextjs-twitter-clone/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js`),{__esModule:eR,$$typeof:eA}=eT;eT.default;let eO=eT.CacheStates,eI=eT.AppRouterContext,eN=eT.LayoutRouterContext,ej=eT.GlobalLayoutRouterContext,eM=eT.TemplateContext;let AppRouteRouteModule=class AppRouteRouteModule extends RouteModule{static #e=this.sharedModules=A;static is(e){return e.definition.kind===ew.x.APP_ROUTE}constructor({userland:e,definition:t,resolvedPagePath:n,nextConfigOutput:i}){if(super({userland:e,definition:t}),this.requestAsyncStorage=ey.F,this.staticGenerationAsyncStorage=ex.A,this.serverHooks=eS,this.headerHooks=eC,this.staticGenerationBailout=eE.o,this.actionAsyncStorage=eP.W,this.resolvedPagePath=n,this.nextConfigOutput=i,this.methods=function(e){let t=$.reduce((t,n)=>({...t,[n]:e[n]??handleMethodNotAllowedResponse}),{}),n=new Set($.filter(t=>e[t])),i=e_.filter(e=>!n.has(e));for(let s of i){if("HEAD"===s){if(!e.GET)break;t.HEAD=e.GET,n.add("HEAD");continue}if("OPTIONS"===s){let e=["OPTIONS",...n];!n.has("HEAD")&&n.has("GET")&&e.push("HEAD");let i={Allow:e.sort().join(", ")};t.OPTIONS=()=>new Response(null,{status:204,headers:i}),n.add("OPTIONS");continue}throw Error(`Invariant: should handle all automatic implementable methods, got method: ${s}`)}return t}(e),this.nonStaticMethods=function(e){let t=eb.filter(t=>e[t]);return 0!==t.length&&t}(e),this.dynamic=this.userland.dynamic,"export"===this.nextConfigOutput){if(this.dynamic&&"auto"!==this.dynamic){if("force-dynamic"===this.dynamic)throw Error(`export const dynamic = "force-dynamic" on page "${t.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`)}else this.dynamic="error"}}resolve(e){return $.includes(e)?this.methods[e]:handleBadRequestResponse}async execute(e,t){let i=this.resolve(e.method),s={req:e};s.renderOpts={previewProps:t.prerenderManifest.preview};let a={urlPathname:e.nextUrl.pathname,renderOpts:t.staticGenerationContext??{supportsDynamicHTML:!1,originalPathname:this.definition.pathname}};a.renderOpts.fetchCache=this.userland.fetchCache;let o=await this.actionAsyncStorage.run({isAppRoute:!0},()=>O.B.wrap(this.requestAsyncStorage,s,()=>N.wrap(this.staticGenerationAsyncStorage,a,s=>{var a;switch(this.nonStaticMethods&&this.staticGenerationBailout(`non-static methods used ${this.nonStaticMethods.join(", ")}`),this.dynamic){case"force-dynamic":s.forceDynamic=!0,this.staticGenerationBailout("force-dynamic",{dynamic:this.dynamic});break;case"force-static":s.forceStatic=!0;break;case"error":s.dynamicShouldError=!0}s.revalidate??=this.userland.revalidate??!1;let o=function(e,{dynamic:t},n){function handleNextUrlBailout(e){switch(e){case"search":case"searchParams":case"toString":case"href":case"origin":n.staticGenerationBailout(`nextUrl.${e}`);return;default:return}}let i={},handleForceStatic=(e,t)=>{switch(t){case"search":return"";case"searchParams":return i.searchParams||(i.searchParams=new URLSearchParams),i.searchParams;case"url":case"href":return i.url||(i.url=cleanURL(e)),i.url;case"toJSON":case"toString":return i.url||(i.url=cleanURL(e)),i.toString||(i.toString=()=>i.url),i.toString;case"headers":return i.headers||(i.headers=new Headers),i.headers;case"cookies":return i.headers||(i.headers=new Headers),i.cookies||(i.cookies=new ev.RequestCookies(i.headers)),i.cookies;case"clone":return i.url||(i.url=cleanURL(e)),()=>new em.c(i.url)}},s=new Proxy(e.nextUrl,{get(e,n){if(handleNextUrlBailout(n),"force-static"===t&&"string"==typeof n){let t=handleForceStatic(e.href,n);if(void 0!==t)return t}let i=e[n];return"function"==typeof i?i.bind(e):i},set:(e,t,n)=>(handleNextUrlBailout(t),e[t]=n,!0)}),handleReqBailout=e=>{switch(e){case"headers":n.headerHooks.headers();return;case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":n.staticGenerationBailout(`request.${e}`);return;default:return}};return new Proxy(e,{get(e,n){if(handleReqBailout(n),"nextUrl"===n)return s;if("force-static"===t&&"string"==typeof n){let t=handleForceStatic(e.url,n);if(void 0!==t)return t}let i=e[n];return"function"==typeof i?i.bind(e):i},set:(e,t,n)=>(handleReqBailout(t),e[t]=n,!0)})}(e,{dynamic:this.dynamic},{headerHooks:this.headerHooks,serverHooks:this.serverHooks,staticGenerationBailout:this.staticGenerationBailout}),u=function(e){let t="/app/";e.includes(t)||(t="\\app\\");let[,...n]=e.split(t),i=t[0]+n.join(t),s=i.split(".").slice(0,-1).join(".");return s}(this.resolvedPagePath);return null==(a=et().getRootSpanAttributes())||a.set("next.route",u),et().trace(m.runHandler,{spanName:`executing api route (app) ${u}`,attributes:{"next.route":u}},async()=>{var e;!function({serverHooks:e,staticGenerationAsyncStorage:t}){if(globalThis._nextOriginalFetch||(globalThis._nextOriginalFetch=globalThis.fetch),globalThis.fetch.__nextPatched)return;let{DynamicServerError:i}=e,s=globalThis._nextOriginalFetch;globalThis.fetch=async(e,a)=>{var o,u;let c;try{(c=new URL(e instanceof Request?e.url:e)).username="",c.password=""}catch{c=void 0}let d=(null==c?void 0:c.href)??"",g=Date.now(),m=(null==a?void 0:null==(o=a.method)?void 0:o.toUpperCase())||"GET",_=(null==(u=null==a?void 0:a.next)?void 0:u.internal)===!0;return await et().trace(_?l.internalFetch:h.fetch,{kind:z.CLIENT,spanName:["fetch",m,d].filter(Boolean).join(" "),attributes:{"http.url":d,"http.method":m,"net.peer.name":null==c?void 0:c.hostname,"net.peer.port":(null==c?void 0:c.port)||void 0}},async()=>{var o;let l,u,c;let h=t.getStore()||(null==fetch.__nextGetStaticStore?void 0:fetch.__nextGetStaticStore.call(fetch)),m=e&&"object"==typeof e&&"string"==typeof e.method,getRequestMeta=t=>(m?e[t]:null)||(null==a?void 0:a[t]);if(!h||_||h.isDraftMode)return s(e,a);let getNextField=t=>{var n,i,s;return void 0!==(null==a?void 0:null==(n=a.next)?void 0:n[t])?null==a?void 0:null==(i=a.next)?void 0:i[t]:m?null==(s=e.next)?void 0:s[t]:void 0},b=getNextField("revalidate"),C=function(e,t){let n=[],i=[];for(let t of e)"string"!=typeof t?i.push({tag:t,reason:"invalid type, must be a string"}):t.length>er.Ho?i.push({tag:t,reason:`exceeded max length of ${er.Ho}`}):n.push(t);if(i.length>0)for(let{tag:e,reason:n}of(console.warn(`Warning: invalid tags passed to ${t}: `),i))console.log(`tag: "${e}" ${n}`);return n}(getNextField("tags")||[],`fetch ${e.toString()}`);if(Array.isArray(C))for(let e of(h.tags||(h.tags=[]),C))h.tags.includes(e)||h.tags.push(e);let E=addImplicitTags(h),A="only-cache"===h.fetchCache,O="force-cache"===h.fetchCache,N="default-cache"===h.fetchCache,j="default-no-store"===h.fetchCache,$="only-no-store"===h.fetchCache,B="force-no-store"===h.fetchCache,q=getRequestMeta("cache"),H="";"string"==typeof q&&void 0!==b&&(function(...e){!function(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let n=e in ef?ef[e]:"log",i=ep[e];0===t.length?console[n](""):console[n](" "+i,...t)}("warn",...e)}(`fetch for ${d} on ${h.urlPathname} specified "cache: ${q}" and "revalidate: ${b}", only one should be specified.`),q=void 0),"force-cache"===q&&(b=!1),["no-cache","no-store"].includes(q||"")&&(b=0,H=`cache: ${q}`),("number"==typeof b||!1===b)&&(c=b);let G=getRequestMeta("headers"),z="function"==typeof(null==G?void 0:G.get)?G:new Headers(G||{}),X=z.get("authorization")||z.get("cookie"),Y=!["get","head"].includes((null==(o=getRequestMeta("method"))?void 0:o.toLowerCase())||"get"),ee=(X||Y)&&0===h.revalidate;if(B&&(c=0,H="fetchCache = force-no-store"),$){if("force-cache"===q||0===c)throw Error(`cache: 'force-cache' used on fetch for ${d} with 'export const fetchCache = 'only-no-store'`);c=0,H="fetchCache = only-no-store"}if(A&&"no-store"===q)throw Error(`cache: 'no-store' used on fetch for ${d} with 'export const fetchCache = 'only-cache'`);O&&(void 0===b||0===b)&&(H="fetchCache = force-cache",c=!1),void 0===c?N?(c=!1,H="fetchCache = default-cache"):ee?(c=0,H="auto no cache"):j?(c=0,H="fetchCache = default-no-store"):(H="auto cache",c="boolean"!=typeof h.revalidate&&void 0!==h.revalidate&&h.revalidate):H||(H=`revalidate: ${c}`),!ee&&(void 0===h.revalidate||"number"==typeof c&&(!1===h.revalidate||"number"==typeof h.revalidate&&c<h.revalidate))&&(h.revalidate=c);let et="number"==typeof c&&c>0||!1===c;if(h.incrementalCache&&et)try{l=await h.incrementalCache.fetchCacheKey(d,m?e:a)}catch(t){console.error("Failed to generate cache key for",e)}let en=h.nextFetchId??1;h.nextFetchId=en+1;let ei="number"!=typeof c?er.BR:c,doOriginalFetch=async(t,n)=>{let i=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(m){let t=e,n={body:t._ogBody||t.body};for(let e of i)n[e]=t[e];e=new Request(t.url,n)}else if(a){let e=a;for(let t of(a={body:a._ogBody||a.body},i))a[t]=e[t]}let o={...a,next:{...null==a?void 0:a.next,fetchType:"origin",fetchIdx:en}};return s(e,o).then(async i=>{if(t||trackFetchMetric(h,{start:g,url:d,cacheReason:n||H,cacheStatus:0===c||n?"skip":"miss",status:i.status,method:o.method||"GET"}),200===i.status&&h.incrementalCache&&l&&et){let t=eg.from(await i.arrayBuffer());try{await h.incrementalCache.set(l,{kind:"FETCH",data:{headers:Object.fromEntries(i.headers.entries()),body:t.toString("base64"),status:i.status,url:i.url},revalidate:ei},{fetchCache:!0,revalidate:c,fetchUrl:d,fetchIdx:en,tags:C})}catch(t){console.warn("Failed to set fetch cache",e,t)}let n=new Response(t,{headers:new Headers(i.headers),status:i.status});return Object.defineProperty(n,"url",{value:i.url}),n}return i})},handleUnlock=()=>Promise.resolve();if(l&&h.incrementalCache){handleUnlock=await h.incrementalCache.lock(l);let e=h.isOnDemandRevalidate?null:await h.incrementalCache.get(l,{fetchCache:!0,revalidate:c,fetchUrl:d,fetchIdx:en,tags:C,softTags:E});if(e?await handleUnlock():u="cache-control: no-cache (hard refresh)",(null==e?void 0:e.value)&&"FETCH"===e.value.kind&&!(h.isRevalidate&&e.isStale)){let t;e.isStale&&(h.pendingRevalidates||(h.pendingRevalidates=[]),h.pendingRevalidates.push(doOriginalFetch(!0).catch(console.error)));let i=e.value.data;{let{decode:e}=n(9209);t=e(i.body)}trackFetchMetric(h,{start:g,url:d,cacheReason:H,cacheStatus:"hit",status:i.status||200,method:(null==a?void 0:a.method)||"GET"});let s=new Response(t,{headers:i.headers,status:i.status});return Object.defineProperty(s,"url",{value:e.value.data.url}),s}}if(h.isStaticGeneration&&a&&"object"==typeof a){let t=a.cache;if(delete a.cache,"no-store"===t){h.revalidate=0;let t=`no-store fetch ${e}${h.urlPathname?` ${h.urlPathname}`:""}`,n=new i(t);h.dynamicUsageErr=n,h.dynamicUsageStack=n.stack,h.dynamicUsageDescription=t}let n="next"in a,s=a.next||{};if("number"==typeof s.revalidate&&(void 0===h.revalidate||"number"==typeof h.revalidate&&s.revalidate<h.revalidate)){let t=h.forceDynamic;if(t&&0===s.revalidate||(h.revalidate=s.revalidate),!t&&0===s.revalidate){let t=`revalidate: ${s.revalidate} fetch ${e}${h.urlPathname?` ${h.urlPathname}`:""}`,n=new i(t);h.dynamicUsageErr=n,h.dynamicUsageStack=n.stack,h.dynamicUsageDescription=t}}n&&delete a.next}return doOriginalFetch(!1,u).finally(handleUnlock)})},globalThis.fetch.__nextGetStaticStore=()=>t,globalThis.fetch.__nextPatched=!0}({serverHooks:this.serverHooks,staticGenerationAsyncStorage:this.staticGenerationAsyncStorage});let a=await i(o,{params:t.params?function(e){let t={};for(let[n,i]of Object.entries(e))void 0!==i&&(t[n]=i);return t}(t.params):void 0});if(!(a instanceof Response))throw Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`);t.staticGenerationContext.fetchMetrics=s.fetchMetrics,t.staticGenerationContext.waitUntil=Promise.all(s.pendingRevalidates||[]),addImplicitTags(s),t.staticGenerationContext.fetchTags=null==(e=s.tags)?void 0:e.join(",");let u=this.requestAsyncStorage.getStore();if(u&&u.mutableCookies){let e=new Headers(a.headers);if((0,j._5)(e,u.mutableCookies))return new Response(a.body,{status:a.status,statusText:a.statusText,headers:e})}return a})})));if(!(o instanceof Response))return new Response(null,{status:500});if(o.headers.has("x-middleware-rewrite"))throw Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue.");if("1"===o.headers.get("x-middleware-next"))throw Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler");return o}async handle(e,t){try{let n=await this.execute(e,t);return n}catch(t){let e=function(e){if(isRedirectError(e)){let t=isRedirectError(e)?e.digest.split(";",3)[2]:null;if(!t)throw Error("Invariant: Unexpected redirect url format");let n=function(e){if(!isRedirectError(e))throw Error("Not a redirect error");return"true"===e.digest.split(";",4)[3]?308:307}(e);return function(e,t,n){let i=new Headers({location:e});return(0,j._5)(i,t),new Response(null,{status:n,headers:i})}(t,e.mutableCookies,n)}return(null==e?void 0:e.digest)==="NEXT_NOT_FOUND"&&new Response(null,{status:404})}(t);if(!e)throw t;return e}}}},3747:()=>{"getAll"in Headers.prototype||(Headers.prototype.getAll=function(e){if("set-cookie"!==(e=e.toLowerCase()))throw Error("Headers.getAll is only supported for Set-Cookie header");let t=[...this.entries()].filter(([t])=>t===e);return t.map(([,e])=>e)})},5927:(e,t,n)=>{"use strict";let i,s,a;async function registerInstrumentation(){if("_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&_ENTRIES.middleware_instrumentation.register)try{await _ENTRIES.middleware_instrumentation.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}n.d(t,{a:()=>EdgeRouteModuleWrapper});let o=null;function ensureInstrumentationRegistered(){return o||(o=registerInstrumentation()),o}function getUnsupportedModuleErrorMessage(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==n.g.process&&(process.env=n.g.process.env,n.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,n){if("then"===n)return{};throw Error(getUnsupportedModuleErrorMessage(e))},construct(){throw Error(getUnsupportedModuleErrorMessage(e))},apply(n,i,s){if("function"==typeof s[0])return s[0](t);throw Error(getUnsupportedModuleErrorMessage(e))}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1}),ensureInstrumentationRegistered();let PageSignatureError=class PageSignatureError extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}};let RemovedPageError=class RemovedPageError extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}};let RemovedUAError=class RemovedUAError extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}};var l=n(1214);let u=Symbol("response"),c=Symbol("passThrough"),h=Symbol("waitUntil");let FetchEvent=class FetchEvent{constructor(e){this[h]=[],this[c]=!1}respondWith(e){this[u]||(this[u]=Promise.resolve(e))}passThroughOnException(){this[c]=!0}waitUntil(e){this[h].push(e)}};let NextFetchEvent=class NextFetchEvent extends FetchEvent{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new PageSignatureError({page:this.sourcePage})}respondWith(){throw new PageSignatureError({page:this.sourcePage})}};var d=n(6256),g=n(3764);let m=Symbol("internal request");let NextRequest=class NextRequest extends Request{constructor(e,t={}){let n="string"!=typeof e&&"url"in e?e.url:String(e);(0,l.r4)(n),e instanceof Request?super(e,t):super(n,t);let i=new d.c(n,{headers:(0,l.lb)(this.headers),nextConfig:t.nextConfig});this[m]={cookies:new g.q(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[m].cookies}get geo(){return this[m].geo}get ip(){return this[m].ip}get nextUrl(){return this[m].nextUrl}get page(){throw new RemovedPageError}get ua(){throw new RemovedUAError}get url(){return this[m].url}};var _=n(3979);function relativizeURL(e,t){let n="string"==typeof t?new URL(t):t,i=new URL(e,t),s=n.protocol+"//"+n.host;return i.protocol+"//"+i.host===s?i.toString().replace(s,""):i.toString()}var b=n(4313);let C=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",b.H4],E=["__nextDataReq"];var A=n(8510),O=n(6824),N=n(2533),j=n(1276);let NextRequestHint=class NextRequestHint extends NextRequest{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new PageSignatureError({page:this.sourcePage})}respondWith(){throw new PageSignatureError({page:this.sourcePage})}waitUntil(){throw new PageSignatureError({page:this.sourcePage})}};let $=[[b.i4],[b.ph],[b.pz]];async function adapter(e){let t,n;await ensureInstrumentationRegistered();let i=void 0!==self.__BUILD_MANIFEST,s="string"==typeof self.__PRERENDER_MANIFEST?JSON.parse(self.__PRERENDER_MANIFEST):void 0;e.request.url=(0,A.W)(e.request.url,!0);let a=new d.c(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig}),o=[...a.searchParams.keys()];for(let e of o){let t=a.searchParams.getAll(e);if(e!==O.dN&&e.startsWith(O.dN)){let n=e.substring(O.dN.length);for(let e of(a.searchParams.delete(n),t))a.searchParams.append(n,e);a.searchParams.delete(e)}}let u=a.buildId;a.buildId="";let c=e.request.headers["x-nextjs-data"];c&&"/index"===a.pathname&&(a.pathname="/");let g=(0,l.EK)(e.request.headers),m=new Map;if(!i)for(let e of $){let t=e.toString().toLowerCase(),n=g.get(t);n&&(m.set(t,g.get(t)),g.delete(t))}let b=new NextRequestHint({page:e.page,input:(function(e,t){let n="string"==typeof e,i=n?new URL(e):e;for(let e of C)i.searchParams.delete(e);if(t)for(let e of E)i.searchParams.delete(e);return n?i.toString():i})(a,!0).toString(),init:{body:e.request.body,geo:e.request.geo,headers:g,ip:e.request.ip,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});c&&Object.defineProperty(b,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&e.IncrementalCache&&(globalThis.__incrementalCache=new e.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:void 0,dev:!1,requestHeaders:e.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:{previewModeId:"development-id"}})}));let B=new NextFetchEvent({request:b,page:e.page}),q="/middleware"===e.page||"/src/middleware"===e.page;if((t=q?await N.B.wrap(j.F,{req:b,renderOpts:{onUpdateCookies:e=>{n=e},previewProps:(null==s?void 0:s.preview)||{previewModeId:"development-id",previewModeEncryptionKey:"",previewModeSigningKey:""}}},()=>e.handler(b,B)):await e.handler(b,B))&&!(t instanceof Response))throw TypeError("Expected an instance of Response to be returned");t&&n&&t.headers.set("set-cookie",n);let H=null==t?void 0:t.headers.get("x-middleware-rewrite");if(t&&H){let n=new d.c(H,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});n.host===b.nextUrl.host&&(n.buildId=u||n.buildId,t.headers.set("x-middleware-rewrite",String(n)));let i=relativizeURL(String(n),String(a));c&&t.headers.set("x-nextjs-rewrite",i)}let G=null==t?void 0:t.headers.get("Location");if(t&&G&&!i){let n=new d.c(G,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});t=new Response(t.body,t),n.host===b.nextUrl.host&&(n.buildId=u||n.buildId,t.headers.set("Location",String(n))),c&&(t.headers.delete("Location"),t.headers.set("x-nextjs-redirect",relativizeURL(String(n),String(a))))}let z=t||_.x.next(),X=z.headers.get("x-middleware-override-headers"),Y=[];if(X){for(let[e,t]of m)z.headers.set(`x-middleware-request-${e}`,t),Y.push(e);Y.length>0&&z.headers.set("x-middleware-override-headers",X+","+Y.join(","))}return{response:z,waitUntil:Promise.all(B[h]),fetchMetrics:b.fetchMetrics}}var B=n(2935),q=n.n(B);let H=0,G="x-vercel-cache-tags",z="x-vercel-sc-headers",X="x-vercel-revalidate",Y="x-vercel-cache-item-name";let FetchCache=class FetchCache{static isAvailable(e){return!!(e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(e){if(this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,this.headers={},this.headers["Content-Type"]="application/json",z in e._requestHeaders){let t=JSON.parse(e._requestHeaders[z]);for(let e in t)this.headers[e]=t[e];delete e._requestHeaders[z]}let t=e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,n=e._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),t?(this.cacheEndpoint=`https://${t}${n||""}`,this.debug&&console.log("using cache endpoint",this.cacheEndpoint)):this.debug&&console.log("no cache endpoint available"),e.maxMemoryCacheSize?i||(this.debug&&console.log("using memory store for fetch cache"),i=new(q())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify(e.pageData))?void 0:t.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache")}async revalidateTag(e){if(this.debug&&console.log("revalidateTag",e),Date.now()<H){this.debug&&console.log("rate limited ",H);return}try{let t=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${e}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(429===t.status){let e=t.headers.get("retry-after")||"60000";H=Date.now()+parseInt(e)}if(!t.ok)throw Error(`Request failed with status ${t.status}.`)}catch(t){console.warn(`Failed to revalidate tag ${e}`,t)}}async get(e,t){let{tags:n,softTags:s,fetchCache:a,fetchIdx:o,fetchUrl:l}=t;if(!a)return null;if(Date.now()<H)return this.debug&&console.log("rate limited"),null;let u=null==i?void 0:i.get(e);if(Date.now()-((null==u?void 0:u.lastModified)||0)>2e3&&(u=void 0),!u&&this.cacheEndpoint)try{let t=Date.now(),a=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${e}`,{method:"GET",headers:{...this.headers,[Y]:l,[G]:(null==n?void 0:n.join(","))||"",[O.Ar]:(null==s?void 0:s.join(","))||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:l,fetchIdx:o}});if(429===a.status){let e=a.headers.get("retry-after")||"60000";H=Date.now()+parseInt(e)}if(404===a.status)return this.debug&&console.log(`no fetch cache entry for ${e}, duration: ${Date.now()-t}ms`),null;if(!a.ok)throw console.error(await a.text()),Error(`invalid response from cache ${a.status}`);let c=await a.json();if(!c||"FETCH"!==c.kind)throw this.debug&&console.log({cached:c}),Error("invalid cache value");let h=a.headers.get("x-vercel-cache-state"),d=a.headers.get("age");u={value:c,lastModified:"fresh"!==h?Date.now()-O.BR:Date.now()-1e3*parseInt(d||"0",10)},this.debug&&console.log(`got fetch cache entry for ${e}, duration: ${Date.now()-t}ms, size: ${Object.keys(c).length}, cache-state: ${h} tags: ${null==n?void 0:n.join(",")} softTags: ${null==s?void 0:s.join(",")}`),u&&(null==i||i.set(e,u))}catch(e){this.debug&&console.error("Failed to get from fetch-cache",e)}return u||null}async set(e,t,{fetchCache:n,fetchIdx:s,fetchUrl:a,tags:o}){if(n){if(Date.now()<H){this.debug&&console.log("rate limited");return}if(null==i||i.set(e,{value:t,lastModified:Date.now()}),this.cacheEndpoint)try{let n=Date.now();null!==t&&"revalidate"in t&&(this.headers[X]=t.revalidate.toString()),!this.headers[X]&&null!==t&&"data"in t&&(this.headers["x-vercel-cache-control"]=t.data.headers["cache-control"]);let i=JSON.stringify({...t,tags:void 0});this.debug&&console.log("set cache",e);let l=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${e}`,{method:"POST",headers:{...this.headers,[Y]:a||"",[G]:(null==o?void 0:o.join(","))||""},body:i,next:{internal:!0,fetchType:"cache-set",fetchUrl:a,fetchIdx:s}});if(429===l.status){let e=l.headers.get("retry-after")||"60000";H=Date.now()+parseInt(e)}if(!l.ok)throw this.debug&&console.log(await l.text()),Error(`invalid response ${l.status}`);this.debug&&console.log(`successfully set to fetch-cache for ${e}, duration: ${Date.now()-n}ms, size: ${i.length}`)}catch(e){this.debug&&console.error("Failed to update fetch cache",e)}}}};var ee=n(4276),et=n.n(ee);let FileSystemCache=class FileSystemCache{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.appDir=!!e._appDir,this.revalidatedTags=e.revalidatedTags,e.maxMemoryCacheSize&&!s&&(s=new(q())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify(e.pageData))?void 0:t.length)||0)}})),this.serverDistDir&&this.fs&&(this.tagsManifestPath=et().join(this.serverDistDir,"..","cache","fetch-cache","tags-manifest.json"),this.loadTagsManifest())}loadTagsManifest(){if(this.tagsManifestPath&&this.fs&&!a)try{a=JSON.parse(this.fs.readFileSync(this.tagsManifestPath).toString("utf8"))}catch(e){a={version:1,items:{}}}}async revalidateTag(e){if(this.loadTagsManifest(),!a||!this.tagsManifestPath)return;let t=a.items[e]||{};t.revalidatedAt=Date.now(),a.items[e]=t;try{await this.fs.mkdir(et().dirname(this.tagsManifestPath)),await this.fs.writeFile(this.tagsManifestPath,JSON.stringify(a||{}))}catch(e){console.warn("Failed to update tags manifest.",e)}}async get(e,{tags:t,softTags:n,fetchCache:i}={}){var o,l,u;let c=null==s?void 0:s.get(e);if((null==c?void 0:null==(o=c.value)?void 0:o.kind)==="PAGE"){let e;let t=null==(u=c.value.headers)?void 0:u[O.Et];if("string"==typeof t&&(e=t.split(",")),null==e?void 0:e.length){this.loadTagsManifest();let t=e.some(e=>{var t;return(null==a?void 0:null==(t=a.items[e])?void 0:t.revalidatedAt)&&(null==a?void 0:a.items[e].revalidatedAt)>=((null==c?void 0:c.lastModified)||Date.now())});t&&(c=void 0)}}if(c&&(null==c?void 0:null==(l=c.value)?void 0:l.kind)==="FETCH"){this.loadTagsManifest();let e=[...t||[],...n||[]],i=e.some(e=>{var t;return!!this.revalidatedTags.includes(e)||(null==a?void 0:null==(t=a.items[e])?void 0:t.revalidatedAt)&&(null==a?void 0:a.items[e].revalidatedAt)>=((null==c?void 0:c.lastModified)||Date.now())});i&&(c=void 0)}return c||null}async set(e,t,n){if(null==s||s.set(e,{value:t,lastModified:Date.now()}),this.flushToDisk){if((null==t?void 0:t.kind)==="ROUTE"){let{filePath:n}=await this.getFsPath({pathname:`${e}.body`,appDir:!0});await this.fs.mkdir(et().dirname(n)),await this.fs.writeFile(n,t.body),await this.fs.writeFile(n.replace(/\.body$/,".meta"),JSON.stringify({headers:t.headers,status:t.status}));return}if((null==t?void 0:t.kind)==="PAGE"){let n="string"==typeof t.pageData,{filePath:i}=await this.getFsPath({pathname:`${e}.html`,appDir:n});await this.fs.mkdir(et().dirname(i)),await this.fs.writeFile(i,t.html),await this.fs.writeFile((await this.getFsPath({pathname:`${e}.${n?"rsc":"json"}`,appDir:n})).filePath,n?t.pageData:JSON.stringify(t.pageData)),(t.headers||t.status)&&await this.fs.writeFile(i.replace(/\.html$/,".meta"),JSON.stringify({headers:t.headers,status:t.status}))}else if((null==t?void 0:t.kind)==="FETCH"){let{filePath:i}=await this.getFsPath({pathname:e,fetchCache:!0});await this.fs.mkdir(et().dirname(i)),await this.fs.writeFile(i,JSON.stringify({...t,tags:n.tags}))}}}async getFsPath({pathname:e,appDir:t,fetchCache:n}){if(n)return{filePath:et().join(this.serverDistDir,"..","cache","fetch-cache",e),isAppPath:!1};let i=et().join(this.serverDistDir,"pages",e);if(!this.appDir||!1===t)return{filePath:i,isAppPath:!1};try{return await this.fs.readFile(i),{filePath:i,isAppPath:!1}}catch(t){return{filePath:et().join(this.serverDistDir,"app",e),isAppPath:!0}}}};function encodeText(e){return new TextEncoder().encode(e)}var er=n(9209),en=n(1451);let ei=/\/\[[^/]+?\](?=\/|$)/;function normalizePagePath(e){let t=/^\/index(\/|$)/.test(e)&&!ei.test(e)?"/index"+e:"/"===e?"/index":(0,en.e)(e);return t}function toRoute(e){return e.replace(/\/$/,"").replace(/\/index$/,"")||"/"}n(9666);let IncrementalCache=class IncrementalCache{constructor({fs:e,dev:t,appDir:n,flushToDisk:i,fetchCache:s,minimalMode:a,serverDistDir:o,requestHeaders:l,requestProtocol:u,maxMemoryCacheSize:c,getPrerenderManifest:h,fetchCacheKeyPrefix:d,CurCacheHandler:g,allowedRevalidateHeaderKeys:m}){var _,b,C,E;this.locks=new Map,this.unlocks=new Map;let A=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;g?A&&console.log("using custom cache handler",g.name):(e&&o&&(A&&console.log("using filesystem cache handler"),g=FileSystemCache),FetchCache.isAvailable({_requestHeaders:l})&&a&&s&&(A&&console.log("using fetch cache handler"),g=FetchCache)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(c=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=t,this.minimalMode=a,this.requestHeaders=l,this.requestProtocol=u,this.allowedRevalidateHeaderKeys=m,this.prerenderManifest=h(),this.fetchCacheKeyPrefix=d;let N=[];l[O.y3]===(null==(b=this.prerenderManifest)?void 0:null==(_=b.preview)?void 0:_.previewModeId)&&(this.isOnDemandRevalidate=!0),a&&"string"==typeof l[O.of]&&l[O.X_]===(null==(E=this.prerenderManifest)?void 0:null==(C=E.preview)?void 0:C.previewModeId)&&(N=l[O.of].split(",")),g&&(this.cacheHandler=new g({dev:t,fs:e,flushToDisk:i,serverDistDir:o,revalidatedTags:N,maxMemoryCacheSize:c,_appDir:!!n,_requestHeaders:l,fetchCacheKeyPrefix:d}))}calculateRevalidate(e,t,n){if(n)return new Date().getTime()-1e3;let{initialRevalidateSeconds:i}=this.prerenderManifest.routes[toRoute(e)]||{initialRevalidateSeconds:1};return"number"==typeof i?1e3*i+t:i}_getPathname(e,t){return t?e:normalizePagePath(e)}async unlock(e){let t=this.unlocks.get(e);t&&(t(),this.locks.delete(e),this.unlocks.delete(e))}async lock(e){process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY;let unlockNext=()=>Promise.resolve(),t=this.locks.get(e);if(t)await t;else{let t=new Promise(e=>{unlockNext=async()=>{e()}});this.locks.set(e,t),this.unlocks.set(e,unlockNext)}return unlockNext}async revalidateTag(e){var t,n;return process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,null==(n=this.cacheHandler)?void 0:null==(t=n.revalidateTag)?void 0:t.call(n,e)}async fetchCacheKey(e,t={}){let n;let i=[];if(t.body){if("function"==typeof t.body.getReader){let e=t.body,n=e.getReader(),s=new Uint8Array;await n.read().then(function processValue({done:e,value:t}){if(!e){if(t)try{i.push("string"==typeof t?t:(0,er.encode)(t));let e="string"==typeof t?encodeText(t):new Uint8Array(t),n=s;(s=new Uint8Array(n.byteLength+e.byteLength)).set(n),s.set(e,n.byteLength)}catch(e){console.error(e)}n.read().then(processValue)}}),t._ogBody=s}else if("function"==typeof t.body.keys){let e=t.body;for(let n of(t._ogBody=t.body,new Set([...e.keys()]))){let t=e.getAll(n);i.push(`${n}=${(await Promise.all(t.map(async e=>"string"==typeof e?e:await e.text()))).join(",")}`)}}else if("function"==typeof t.body.arrayBuffer){let e=t.body,n=await e.arrayBuffer();i.push((0,er.encode)(await t.body.arrayBuffer())),t._ogBody=new Blob([n],{type:e.type})}else"string"==typeof t.body&&(i.push(t.body),t._ogBody=t.body)}let s=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",e,t.method,"function"==typeof(t.headers||{}).keys?Object.fromEntries(t.headers):t.headers,t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity,t.cache,i]);{var a;let e=encodeText(s);a=await crypto.subtle.digest("SHA-256",e),n=Array.prototype.map.call(new Uint8Array(a),e=>e.toString(16).padStart(2,"0")).join("")}return n}async get(e,t={}){var n,i,s;let a,o;if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.dev&&(!t.fetchCache||"no-cache"===this.requestHeaders["cache-control"]))return null;e=this._getPathname(e,t.fetchCache);let l=null,u=t.revalidate,c=await (null==(n=this.cacheHandler)?void 0:n.get(e,t));if((null==c?void 0:null==(i=c.value)?void 0:i.kind)==="FETCH"){let e=[...t.tags||[],...t.softTags||[]];if(e.some(e=>{var t;return null==(t=this.revalidatedTags)?void 0:t.includes(e)}))return null;u=u||c.value.revalidate;let n=Math.round((Date.now()-(c.lastModified||0))/1e3),i=n>u,s=c.value.data;return{isStale:i,value:{kind:"FETCH",data:s,revalidate:u},revalidateAfter:Date.now()+1e3*u}}let h=null==(s=this.prerenderManifest.routes[toRoute(e)])?void 0:s.initialRevalidateSeconds;return(null==c?void 0:c.lastModified)===-1?(a=-1,o=-1*O.BR):a=!!(!1!==(o=this.calculateRevalidate(e,(null==c?void 0:c.lastModified)||Date.now(),this.dev&&!t.fetchCache))&&o<Date.now())||void 0,c&&(l={isStale:a,curRevalidate:h,revalidateAfter:o,value:c.value}),!c&&this.prerenderManifest.notFoundRoutes.includes(e)&&(l={isStale:a,value:null,curRevalidate:h,revalidateAfter:o},this.set(e,l.value,t)),l}async set(e,t,n){if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,!this.dev||n.fetchCache){if(n.fetchCache&&JSON.stringify(t).length>2097152){if(this.dev)throw Error("fetch for over 2MB of data can not be cached");return}e=this._getPathname(e,n.fetchCache);try{var i;void 0===n.revalidate||n.fetchCache||(this.prerenderManifest.routes[e]={dataRoute:et().posix.join("/_next/data",`${normalizePagePath(e)}.json`),srcRoute:null,initialRevalidateSeconds:n.revalidate}),await (null==(i=this.cacheHandler)?void 0:i.set(e,t,n))}catch(t){console.warn("Failed to update prerender cache for",e,t)}}}};var es=n(2404),eo=n(5716);let RouteMatcher=class RouteMatcher{constructor(e){var t;this.definition=e,t=e.pathname,ei.test(t)&&(this.dynamic=(0,es.t)((0,eo.vG)(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return void 0!==this.dynamic}match(e){let t=this.test(e);return t?{definition:this.definition,params:t.params}:null}test(e){if(this.dynamic){let t=this.dynamic(e);return t?{params:t}:null}return e===this.definition.pathname?{}:null}};var el=n(542),eu=n(8752);let EdgeRouteModuleWrapper=class EdgeRouteModuleWrapper{constructor(e){this.routeModule=e,this.matcher=new RouteMatcher(e.definition)}static wrap(e,t={}){let n=new EdgeRouteModuleWrapper(e);return e=>adapter({...e,...t,IncrementalCache:IncrementalCache,handler:n.handler.bind(n)})}async handler(e,t){let n=(0,el.Q)(new URL(e.url).pathname),{basePath:i}=e.nextUrl;i&&(n=(0,eu.n)(n,i));let s=this.matcher.match(n);if(!s)throw Error(`Invariant: no match found for request. Pathname '${n}' should have matched '${this.matcher.definition.pathname}'`);let a="string"==typeof self.__PRERENDER_MANIFEST?JSON.parse(self.__PRERENDER_MANIFEST):void 0,o={params:s.params,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:(null==a?void 0:a.preview)||{previewModeEncryptionKey:"",previewModeId:"development-id",previewModeSigningKey:""},notFoundRoutes:[]},staticGenerationContext:{supportsDynamicHTML:!0}},l=await this.routeModule.handle(e,o);return o.staticGenerationContext.waitUntil&&t.waitUntil(o.staticGenerationContext.waitUntil),l}}},1210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i.x});var i=n(3979)},6256:(e,t,n)=>{"use strict";n.d(t,{c:()=>NextURL});var i=n(542),s=n(5288);function addPathPrefix(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:n,query:i,hash:a}=(0,s.c)(e);return""+t+n+i+a}function addPathSuffix(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:n,query:i,hash:a}=(0,s.c)(e);return""+n+t+i+a}var a=n(3329);function normalizeLocalePath(e,t){let n;let i=e.split("/");return(t||[]).some(t=>!!i[1]&&i[1].toLowerCase()===t.toLowerCase()&&(n=t,i.splice(1,1),e=i.join("/")||"/",!0)),{pathname:e,detectedLocale:n}}var o=n(8752);let l=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function parseURL(e,t){return new URL(String(e).replace(l,"localhost"),t&&String(t).replace(l,"localhost"))}let u=Symbol("NextURLInternal");let NextURL=class NextURL{constructor(e,t,n){let i,s;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,s=n||{}):s=n||t||{},this[u]={url:parseURL(e,i??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,t,n,i,s;let l=function(e,t){var n,i;let{basePath:s,i18n:l,trailingSlash:u}=null!=(n=t.nextConfig)?n:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};s&&(0,a.Y)(c.pathname,s)&&(c.pathname=(0,o.n)(c.pathname,s),c.basePath=s);let h=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),n=e[0];c.buildId=n,h="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=h)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):normalizeLocalePath(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(i=e.pathname)?i:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(h):normalizeLocalePath(h,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=function(e,t){let n;if((null==t?void 0:t.host)&&!Array.isArray(t.host))n=t.host.toString().split(":")[0];else{if(!e.hostname)return;n=e.hostname}return n.toLowerCase()}(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):function(e,t,n){if(e)for(let a of(n&&(n=n.toLowerCase()),e)){var i,s;let e=null==(i=a.domain)?void 0:i.split(":")[0].toLowerCase();if(t===e||n===a.defaultLocale.toLowerCase()||(null==(s=a.locales)?void 0:s.some(e=>e.toLowerCase()===n)))return a}}(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,c);let h=(null==(n=this[u].domainLocale)?void 0:n.defaultLocale)||(null==(s=this[u].options.nextConfig)?void 0:null==(i=s.i18n)?void 0:i.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=h,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??h,this[u].trailingSlash=l.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,n,i){if(!t||t===n)return e;let s=e.toLowerCase();return!i&&((0,a.Y)(s,"/api")||(0,a.Y)(s,"/"+t.toLowerCase()))?e:addPathPrefix(e,"/"+t)}((e={basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=(0,i.Q)(t)),e.buildId&&(t=addPathSuffix(addPathPrefix(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=addPathPrefix(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:addPathSuffix(t,"/"):(0,i.Q)(t)}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,n;if(!this[u].locale||!(null==(n=this[u].options.nextConfig)?void 0:null==(t=n.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=parseURL(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new NextURL(String(this),this[u].options)}}},7664:(e,t,n)=>{"use strict";n.d(t,{h:()=>HeadersAdapter});var i=n(4604);let ReadonlyHeadersError=class ReadonlyHeadersError extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new ReadonlyHeadersError}};let HeadersAdapter=class HeadersAdapter extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,n,s){if("symbol"==typeof n)return i.g.get(t,n,s);let a=n.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==o)return i.g.get(t,o,s)},set(t,n,s,a){if("symbol"==typeof n)return i.g.set(t,n,s,a);let o=n.toLowerCase(),l=Object.keys(e).find(e=>e.toLowerCase()===o);return i.g.set(t,l??n,s,a)},has(t,n){if("symbol"==typeof n)return i.g.has(t,n);let s=n.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return void 0!==a&&i.g.has(t,a)},deleteProperty(t,n){if("symbol"==typeof n)return i.g.deleteProperty(t,n);let s=n.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return void 0===a||i.g.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,n){switch(t){case"append":case"delete":case"set":return ReadonlyHeadersError.callable;default:return i.g.get(e,t,n)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new HeadersAdapter(e)}append(e,t){let n=this.headers[e];"string"==typeof n?this.headers[e]=[n,t]:Array.isArray(n)?n.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[n,i]of this.entries())e.call(t,i,n,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),n=this.get(t);yield[t,n]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},4604:(e,t,n)=>{"use strict";n.d(t,{g:()=>ReflectAdapter});let ReflectAdapter=class ReflectAdapter{static get(e,t,n){let i=Reflect.get(e,t,n);return"function"==typeof i?i.bind(e):i}static set(e,t,n,i){return Reflect.set(e,t,n,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},3576:(e,t,n)=>{"use strict";n.d(t,{Qb:()=>RequestCookiesAdapter,_5:()=>appendMutableCookies,vr:()=>MutableRequestCookiesAdapter});var i=n(3764),s=n(4604);let ReadonlyRequestCookiesError=class ReadonlyRequestCookiesError extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new ReadonlyRequestCookiesError}};let RequestCookiesAdapter=class RequestCookiesAdapter{static seal(e){return new Proxy(e,{get(e,t,n){switch(t){case"clear":case"delete":case"set":return ReadonlyRequestCookiesError.callable;default:return s.g.get(e,t,n)}}})}};let a=Symbol.for("next.mutated.cookies");function appendMutableCookies(e,t){let n=function(e){let t=e[a];return t&&Array.isArray(t)&&0!==t.length?t:[]}(t);if(0===n.length)return!1;let s=new i.n(e),o=s.getAll();for(let e of n)s.set(e);for(let e of o)s.set(e);return!0}let MutableRequestCookiesAdapter=class MutableRequestCookiesAdapter{static wrap(e,t){let n=new i.n(new Headers);for(let t of e.getAll())n.set(t);let o=[],l=new Set,updateResponseCookies=()=>{var e;let s=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();s&&(s.pathWasRevalidated=!0);let a=n.getAll();if(o=a.filter(e=>l.has(e.name)),t){let e=[];for(let t of o){let n=new i.n(new Headers);n.set(t),e.push(n.toString())}t(e)}};return new Proxy(n,{get(e,t,n){switch(t){case a:return o;case"delete":return function(...t){l.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{updateResponseCookies()}};case"set":return function(...t){l.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{updateResponseCookies()}};default:return s.g.get(e,t,n)}}})}}},3764:(e,t,n)=>{"use strict";n.d(t,{n:()=>i.ResponseCookies,q:()=>i.RequestCookies});var i=n(1690)},3979:(e,t,n)=>{"use strict";n.d(t,{x:()=>NextResponse});var i=n(6256),s=n(1214),a=n(3764);let o=Symbol("internal response"),l=new Set([301,302,303,307,308]);function handleMiddlewareField(e,t){var n;if(null==e?void 0:null==(n=e.request)?void 0:n.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let n=[];for(let[i,s]of e.request.headers)t.set("x-middleware-request-"+i,s),n.push(i);t.set("x-middleware-override-headers",n.join(","))}}let NextResponse=class NextResponse extends Response{constructor(e,t={}){super(e,t),this[o]={cookies:new a.n(this.headers),url:t.url?new i.c(t.url,{headers:(0,s.lb)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[o].cookies}static json(e,t){let n=Response.json(e,t);return new NextResponse(n.body,n)}static redirect(e,t){let n="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(n))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let i="object"==typeof t?t:{},a=new Headers(null==i?void 0:i.headers);return a.set("Location",(0,s.r4)(e)),new NextResponse(null,{...i,headers:a,status:n})}static rewrite(e,t){let n=new Headers(null==t?void 0:t.headers);return n.set("x-middleware-rewrite",(0,s.r4)(e)),handleMiddlewareField(t,n),new NextResponse(null,{...t,headers:n})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),handleMiddlewareField(e,t),new NextResponse(null,{...e,headers:t})}}},1214:(e,t,n)=>{"use strict";function fromNodeOutgoingHttpHeaders(e){let t=new Headers;for(let[n,i]of Object.entries(e)){let e=Array.isArray(i)?i:[i];for(let i of e)void 0!==i&&("number"==typeof i&&(i=i.toString()),t.append(n,i))}return t}function toNodeOutgoingHttpHeaders(e){let t={},n=[];if(e)for(let[i,s]of e.entries())"set-cookie"===i.toLowerCase()?(n.push(...function(e){var t,n,i,s,a,o=[],l=0;function skipWhitespace(){for(;l<e.length&&/\s/.test(e.charAt(l));)l+=1;return l<e.length}for(;l<e.length;){for(t=l,a=!1;skipWhitespace();)if(","===(n=e.charAt(l))){for(i=l,l+=1,skipWhitespace(),s=l;l<e.length&&"="!==(n=e.charAt(l))&&";"!==n&&","!==n;)l+=1;l<e.length&&"="===e.charAt(l)?(a=!0,l=s,o.push(e.substring(t,i)),t=l):l=i+1}else l+=1;(!a||l>=e.length)&&o.push(e.substring(t,e.length))}return o}(s)),t[i]=1===n.length?n[0]:n):t[i]=s;return t}function validateURL(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}n.d(t,{EK:()=>fromNodeOutgoingHttpHeaders,lb:()=>toNodeOutgoingHttpHeaders,r4:()=>validateURL})},9209:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>decode,encode:()=>encode});let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<i.length;e++)s[i.charCodeAt(e)]=e;let encode=e=>{let t=new Uint8Array(e),n,s=t.length,a="";for(n=0;n<s;n+=3)a+=i[t[n]>>2]+i[(3&t[n])<<4|t[n+1]>>4]+i[(15&t[n+1])<<2|t[n+2]>>6]+i[63&t[n+2]];return s%3==2?a=a.substring(0,a.length-1)+"=":s%3==1&&(a=a.substring(0,a.length-2)+"=="),a},decode=e=>{let t=.75*e.length,n=e.length,i,a=0,o,l,u,c;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);let h=new ArrayBuffer(t),d=new Uint8Array(h);for(i=0;i<n;i+=4)o=s[e.charCodeAt(i)],l=s[e.charCodeAt(i+1)],u=s[e.charCodeAt(i+2)],c=s[e.charCodeAt(i+3)],d[a++]=o<<2|l>>4,d[a++]=(15&l)<<4|u>>2,d[a++]=(3&u)<<6|63&c;return h}},4276:(e,t,n)=>{"use strict";let i;i=n(5700),e.exports=i},1451:(e,t,n)=>{"use strict";function ensureLeadingSlash(e){return e.startsWith("/")?e:"/"+e}n.d(t,{e:()=>ensureLeadingSlash})},8510:(e,t,n)=>{"use strict";n.d(t,{w:()=>normalizeAppPath,W:()=>normalizeRscPath});var i=n(1451);function normalizeAppPath(e){return(0,i.e)(e.split("/").reduce((e,t,n,i)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&n===i.length-1?e:e+"/"+t:e,""))}function normalizeRscPath(e,t){return t?e.replace(/\.rsc($|\?)/,"$1"):e}},5288:(e,t,n)=>{"use strict";function parsePath(e){let t=e.indexOf("#"),n=e.indexOf("?"),i=n>-1&&(t<0||n<t);return i||t>-1?{pathname:e.substring(0,i?n:t),query:i?e.substring(n,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}n.d(t,{c:()=>parsePath})},3329:(e,t,n)=>{"use strict";n.d(t,{Y:()=>pathHasPrefix});var i=n(5288);function pathHasPrefix(e,t){if("string"!=typeof e)return!1;let{pathname:n}=(0,i.c)(e);return n===t||n.startsWith(t+"/")}},8752:(e,t,n)=>{"use strict";n.d(t,{n:()=>removePathPrefix});var i=n(3329);function removePathPrefix(e,t){if(!(0,i.Y)(e,t))return e;let n=e.slice(t.length);return n.startsWith("/")?n:"/"+n}},542:(e,t,n)=>{"use strict";function removeTrailingSlash(e){return e.replace(/\/$/,"")||"/"}n.d(t,{Q:()=>removeTrailingSlash})},2404:(e,t,n)=>{"use strict";n.d(t,{t:()=>getRouteMatcher});var i=n(9666);function getRouteMatcher(e){let{re:t,groups:n}=e;return e=>{let s=t.exec(e);if(!s)return!1;let decode=e=>{try{return decodeURIComponent(e)}catch(e){throw new i._9("failed to decode param")}},a={};return Object.keys(n).forEach(e=>{let t=n[e],i=s[t.pos];void 0!==i&&(a[e]=~i.indexOf("/")?i.split("/").map(e=>decode(e)):t.repeat?[decode(i)]:decode(i))}),a}}},5716:(e,t,n)=>{"use strict";n.d(t,{JV:()=>getNamedRouteRegex,vG:()=>getRouteRegex});let i=["(..)(..)","(.)","(..)","(...)"],s=/[|\\{}()[\]^$+*?.-]/,a=/[|\\{}()[\]^$+*?.-]/g;function escapeStringRegexp(e){return s.test(e)?e.replace(a,"\\$&"):e}var o=n(542);function parseParameter(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let n=e.startsWith("...");return n&&(e=e.slice(3)),{key:e,repeat:n,optional:t}}function getRouteRegex(e){let{parameterizedRoute:t,groups:n}=function(e){let t=(0,o.Q)(e).slice(1).split("/"),n={},s=1;return{parameterizedRoute:t.map(e=>{let t=i.find(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&a){let{key:e,optional:i,repeat:o}=parseParameter(a[1]);return n[e]={pos:s++,repeat:o,optional:i},"/"+escapeStringRegexp(t)+"([^/]+?)"}if(!a)return"/"+escapeStringRegexp(e);{let{key:e,repeat:t,optional:i}=parseParameter(a[1]);return n[e]={pos:s++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:n}}(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:n}}function getSafeKeyFromSegment(e){let{getSafeRouteKey:t,segment:n,routeKeys:i,keyPrefix:s}=e,{key:a,optional:o,repeat:l}=parseParameter(n),u=a.replace(/\W/g,"");s&&(u=""+s+u);let c=!1;return(0===u.length||u.length>30)&&(c=!0),isNaN(parseInt(u.slice(0,1)))||(c=!0),c&&(u=t()),s?i[u]=""+s+a:i[u]=""+a,l?o?"(?:/(?<"+u+">.+?))?":"/(?<"+u+">.+?)":"/(?<"+u+">[^/]+?)"}function getNamedRouteRegex(e,t){let n=function(e,t){let n;let s=(0,o.Q)(e).slice(1).split("/"),a=(n=0,()=>{let e="",t=++n;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:s.map(e=>{let n=i.some(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);return n&&s?getSafeKeyFromSegment({getSafeRouteKey:a,segment:s[1],routeKeys:l,keyPrefix:t?"nxtI":void 0}):s?getSafeKeyFromSegment({getSafeRouteKey:a,segment:s[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+escapeStringRegexp(e)}).join(""),routeKeys:l}}(e,t);return{...getRouteRegex(e),namedRegex:"^"+n.namedParameterizedRoute+"(?:/)?$",routeKeys:n.routeKeys}}},9666:(e,t,n)=>{"use strict";n.d(t,{_9:()=>DecodeError});let i="undefined"!=typeof performance;i&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);let DecodeError=class DecodeError extends Error{}},9756:(e,t,n)=>{"use strict";e.exports=n(7842)},2683:e=>{"use strict";var t={decodeValues:!0,map:!1,silent:!1};function isNonEmptyString(e){return"string"==typeof e&&!!e.trim()}function parseString(e,n){var i,s,a,o,l=e.split(";").filter(isNonEmptyString),u=(i=l.shift(),s="",a="",(o=i.split("=")).length>1?(s=o.shift(),a=o.join("=")):a=i,{name:s,value:a}),c=u.name,h=u.value;n=n?Object.assign({},t,n):t;try{h=n.decodeValues?decodeURIComponent(h):h}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+h+"'. Set options.decodeValues to false to disable this feature.",e)}var d={name:c,value:h};return l.forEach(function(e){var t=e.split("="),n=t.shift().trimLeft().toLowerCase(),i=t.join("=");"expires"===n?d.expires=new Date(i):"max-age"===n?d.maxAge=parseInt(i,10):"secure"===n?d.secure=!0:"httponly"===n?d.httpOnly=!0:"samesite"===n?d.sameSite=i:d[n]=i}),d}function parse(e,n){if(n=n?Object.assign({},t,n):t,!e)return n.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var i=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];i||!e.headers.cookie||n.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=i}}return(Array.isArray(e)||(e=[e]),(n=n?Object.assign({},t,n):t).map)?e.filter(isNonEmptyString).reduce(function(e,t){var i=parseString(t,n);return e[i.name]=i,e},{}):e.filter(isNonEmptyString).map(function(e){return parseString(e,n)})}e.exports=parse,e.exports.parse=parse,e.exports.parseString=parseString,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,n,i,s,a,o=[],l=0;function skipWhitespace(){for(;l<e.length&&/\s/.test(e.charAt(l));)l+=1;return l<e.length}for(;l<e.length;){for(t=l,a=!1;skipWhitespace();)if(","===(n=e.charAt(l))){for(i=l,l+=1,skipWhitespace(),s=l;l<e.length&&"="!==(n=e.charAt(l))&&";"!==n&&","!==n;)l+=1;l<e.length&&"="===e.charAt(l)?(a=!0,l=s,o.push(e.substring(t,i)),t=l):l=i+1}else l+=1;(!a||l>=e.length)&&o.push(e.substring(t,e.length))}return o}},3545:(e,t,n)=>{"use strict";if("object"==typeof globalThis)i=globalThis;else try{i=n(6756)}catch(e){}finally{if(!i)throw Error("Could not determine global this")}var i,s=i.WebSocket||i.MozWebSocket,a=n(2094);function W3CWebSocket(e,t){return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(W3CWebSocket,e,{get:function(){return s[e]}})}),e.exports={w3cwebsocket:s?W3CWebSocket:null,version:a}},2094:(e,t,n)=>{"use strict";e.exports=n(9046).version},4927:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(4092);let s=(0,i.P)()},4092:(e,t,n)=>{"use strict";n.d(t,{P:()=>createAsyncLocalStorage});let i=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");let FakeAsyncLocalStorage=class FakeAsyncLocalStorage{disable(){throw i}getStore(){}run(){throw i}exit(){throw i}enterWith(){throw i}};let s=globalThis.AsyncLocalStorage;function createAsyncLocalStorage(){return s?new s:new FakeAsyncLocalStorage}},1276:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var i=n(4092);let s=(0,i.P)()},4083:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(4092);let s=(0,i.P)()},7807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BrowserCookieAuthStorageAdapter:()=>ey,CookieAuthStorageAdapter:()=>em,DEFAULT_COOKIE_OPTIONS:()=>ev,createSupabaseClient:()=>createSupabaseClient,isBrowser:()=>dist_isBrowser,parseCookies:()=>e_,parseSupabaseCookie:()=>parseSupabaseCookie,serializeCookie:()=>eb,stringifySupabaseSession:()=>stringifySupabaseSession}),new TextEncoder;let i=new TextDecoder,base64url_decodeBase64=e=>{let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n};Symbol.asyncIterator;let s=crypto;s.getRandomValues.bind(s),Symbol();let base64url_decode=e=>{let t=e;t instanceof Uint8Array&&(t=i.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return base64url_decodeBase64(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}},resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,6749,23)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)};let FunctionsError=class FunctionsError extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}};let FunctionsFetchError=class FunctionsFetchError extends FunctionsError{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}};let FunctionsRelayError=class FunctionsRelayError extends FunctionsError{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}};let FunctionsHttpError=class FunctionsHttpError extends FunctionsError{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};let FunctionsClient=class FunctionsClient{constructor(e,{headers:t={},customFetch:n}={}){this.url=e,this.headers=t,this.fetch=resolveFetch(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n,i,s,a,o;return i=this,s=void 0,a=void 0,o=function*(){try{let i;let{headers:s,method:a,body:o}=t,l={};o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",i=o):"string"==typeof o?(l["Content-Type"]="text/plain",i=o):"undefined"!=typeof FormData&&o instanceof FormData?i=o:(l["Content-Type"]="application/json",i=JSON.stringify(o)));let u=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:i}).catch(e=>{throw new FunctionsFetchError(e)}),c=u.headers.get("x-relay-error");if(c&&"true"===c)throw new FunctionsRelayError(u);if(!u.ok)throw new FunctionsHttpError(u);let h=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return{data:"application/json"===h?yield u.json():"application/octet-stream"===h?yield u.blob():"multipart/form-data"===h?yield u.formData():yield u.text(),error:null}}catch(e){return{data:null,error:e}}},new(a||(a=Promise))(function(e,t){function fulfilled(e){try{step(o.next(e))}catch(e){t(e)}}function rejected(e){try{step(o.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof a?n:new a(function(e){e(n)})).then(fulfilled,rejected)}step((o=o.apply(i,s||[])).next())})}};var a,o,l,u,c,h,d,g,m,_,b,C,E=n(6749),A=n.n(E);let PostgrestBuilder=class PostgrestBuilder{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=A():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=this.fetch,i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,i;let s=null,a=null,o=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(a="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let i=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");i&&c&&c.length>1&&(o=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,o=null,l=406,u="Not Acceptable"):a=1===a.length?a[0]:null)}else{let t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(a=[],s=null,l=200,u="OK")}catch(n){404===e.status&&""===t?(l=204,u="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(i=null==s?void 0:s.details)||void 0===i?void 0:i.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&this.shouldThrowOnError)throw s}let c={error:s,data:a,count:o,status:l,statusText:u};return c});return this.shouldThrowOnError||(i=i.catch(e=>{var t,n,i;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(i=null==e?void 0:e.code)&&void 0!==i?i:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}};let PostgrestTransformBuilder=class PostgrestTransformBuilder extends PostgrestBuilder{select(e){let t=!1,n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){let n=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:n}={}){let i=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){let o=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};let PostgrestFilterBuilder=class PostgrestFilterBuilder extends PostgrestTransformBuilder{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let n=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w");let a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t}={}){let n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};let PostgrestQueryBuilder=class PostgrestQueryBuilder{constructor(e,{headers:t={},schema:n,fetch:i}){this.url=e,this.headers=t,this.schema=n,this.fetch=i}select(e,{head:t=!1,count:n}={}){let i=!1,s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new PostgrestFilterBuilder({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){let i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new PostgrestFilterBuilder({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){let a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new PostgrestFilterBuilder({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new PostgrestFilterBuilder({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new PostgrestFilterBuilder({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};let O={"X-Client-Info":"postgrest-js/1.8.5"};let PostgrestClient=class PostgrestClient{constructor(e,{headers:t={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},O),t),this.schemaName=n,this.fetch=i}from(e){let t=new URL(`${this.url}/${e}`);return new PostgrestQueryBuilder(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new PostgrestClient(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:i}={}){let s,a;let o=new URL(`${this.url}/rpc/${e}`);n?(s="HEAD",Object.entries(t).forEach(([e,t])=>{o.searchParams.append(e,`${t}`)})):(s="POST",a=t);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new PostgrestFilterBuilder({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var N=n(3545);let j={"X-Client-Info":"realtime-js/2.8.0"};!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(a||(a={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(o||(o={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(l||(l={})),(u||(u={})).websocket="websocket",function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(c||(c={}));let Timer=class Timer{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};let Serializer=class Serializer{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){let i=t.getUint8(1),s=t.getUint8(2),a=this.HEADER_LENGTH+2,o=n.decode(e.slice(a,a+i));a+=i;let l=n.decode(e.slice(a,a+s));a+=s;let u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}};let Push=class Push{constructor(e,t,n={},i=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0;let e=this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()});"rate limited"===e&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(h||(h={}));let RealtimePresence=class RealtimePresence{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{let{onJoin:t,onLeave:n,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=RealtimePresence.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],i()}),this.channel._on(n.diff,{},e=>{let{onJoin:t,onLeave:n,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=RealtimePresence.syncDiff(this.state,e,t,n),i())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){let s=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(s,(e,t)=>{a[e]||(l[e]=t)}),this.map(a,(e,t)=>{let n=s[e];if(n){let i=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),a=t.filter(e=>0>s.indexOf(e.presence_ref)),u=n.filter(e=>0>i.indexOf(e.presence_ref));a.length>0&&(o[e]=a),u.length>0&&(l[e]=u)}else o[e]=t}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,t,n,i){let{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(t,i)=>{var s;let a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(i),a.length>0){let n=e[t].map(e=>e.presence_ref),i=a.filter(e=>0>n.indexOf(e.presence_ref));e[t].unshift(...i)}n(t,a,i)}),this.map(a,(t,n)=>{let s=e[t];if(!s)return;let a=n.map(e=>e.presence_ref);s=s.filter(e=>0>a.indexOf(e.presence_ref)),e[t]=s,i(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,n)=>{let i=e[n];return"metas"in i?t[n]=i.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(d||(d={}));let convertChangeData=(e,t,n={})=>{var i;let s=null!==(i=n.skipTypes)&&void 0!==i?i:[];return Object.keys(t).reduce((n,i)=>(n[i]=convertColumn(i,e,t,s),n),{})},convertColumn=(e,t,n,i)=>{let s=t.find(t=>t.name===e),a=null==s?void 0:s.type,o=n[e];return a&&!i.includes(a)?convertCell(a,o):noop(o)},convertCell=(e,t)=>{if("_"===e.charAt(0)){let n=e.slice(1,e.length);return toArray(t,n)}switch(e){case d.bool:return toBoolean(t);case d.float4:case d.float8:case d.int2:case d.int4:case d.int8:case d.numeric:case d.oid:return toNumber(t);case d.json:case d.jsonb:return toJson(t);case d.timestamp:return toTimestampString(t);case d.abstime:case d.date:case d.daterange:case d.int4range:case d.int8range:case d.money:case d.reltime:case d.text:case d.time:case d.timestamptz:case d.timetz:case d.tsrange:case d.tstzrange:default:return noop(t)}},noop=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},toJson=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},toArray=(e,t)=>{if("string"!=typeof e)return e;let n=e.length-1,i=e[n],s=e[0];if("{"===s&&"}"===i){let i;let s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch(e){i=s?s.split(","):[]}return i.map(e=>convertCell(t,e))}return e},toTimestampString=e=>"string"==typeof e?e.replace(" ","T"):e;!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(g||(g={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(m||(m={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(_||(_={}));let RealtimeChannel=class RealtimeChannel{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=o.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,l.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=o.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=o.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=o.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=o.errored,this.rejoinTimer.scheduleTimeout())}),this._on(l.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:a}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let o={},l={broadcast:s,presence:a,postgres_changes:null!==(i=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==i?i:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let i=this.bindings.postgres_changes,s=null!==(n=null==i?void 0:i.length)&&void 0!==n?n:0,a=[];for(let n=0;n<s;n++){let s=i[n],{filter:{event:o,schema:l,table:u,filter:c}}=s,h=t&&t[n];if(h&&h.event===o&&h.schema===l&&h.table===u&&h.filter===c)a.push(Object.assign(Object.assign({},s),{id:h.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=a,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,i;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var i,s,a;let o=this._push(e.type,e,t.timeout||this.timeout);o.rateLimited&&n("rate limited"),"broadcast"!==e.type||(null===(a=null===(s=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("timeout",()=>n("timed out"))});{let{event:s,payload:a}=e,o={method:"POST",headers:{apikey:null!==(n=this.socket.accessToken)&&void 0!==n?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(i=t.timeout)&&void 0!==i?i:this.timeout);if(e.ok)return"ok";return"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=o.leaving;let onClose=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(l.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(t=>{let n=new Push(this,l.leave,{},e);n.receive("ok",()=>{onClose(),t("ok")}).receive("timeout",()=>{onClose(),t("timed out")}).receive("error",()=>{t("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return(e=(e=e.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,n){let i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Push(this,e,t,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;let a=e.toLocaleLowerCase(),{close:o,error:u,leave:c,join:h}=l;if(n&&[o,u,c,h].indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(e=>{var t,n,i;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(i=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===i?void 0:i.toLocaleLowerCase())===a}).map(e=>e.callback(d,n)):null===(s=this.bindings[a])||void 0===s||s.filter(e=>{var n,i,s,o,l,u;if(!["broadcast","presence","postgres_changes"].includes(a))return e.type.toLocaleLowerCase()===a;if("id"in e){let a=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(i=t.ids)||void 0===i?void 0:i.includes(a))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{let n=null===(l=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===l?void 0:l.toLocaleLowerCase();return"*"===n||n===(null===(u=null==t?void 0:t.event)||void 0===u?void 0:u.toLocaleLowerCase())}}).map(e=>{if("object"==typeof d&&"ids"in d){let e=d.data,{schema:t,table:n,commit_timestamp:i,type:s,errors:a}=e;d=Object.assign(Object.assign({},{schema:t,table:n,commit_timestamp:i,eventType:s,new:{},old:{},errors:a}),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===o.closed}_isJoined(){return this.state===o.joined}_isJoining(){return this.state===o.joining}_isLeaving(){return this.state===o.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){let n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var i;return!((null===(i=e.type)||void 0===i?void 0:i.toLocaleLowerCase())===n&&RealtimeChannel.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(l.close,{},e)}_onError(e){this._on(l.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=o.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=convertChangeData(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=convertChangeData(e.columns,e.old_record)),t}};let RealtimeClient_noop=()=>{};let RealtimeClient=class RealtimeClient{constructor(e,t){var i,s;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=j,this.params={},this.timeout=1e4,this.transport=N.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=RealtimeClient_noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,6749,23)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${u.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let a=null===(i=null==t?void 0:t.params)||void 0===i?void 0:i.eventsPerSecond;a&&(this.eventsPerSecondLimitMs=Math.floor(1e3/a));let o=null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey;o&&(this.accessToken=o),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){!this.conn&&(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case a.connecting:return c.Connecting;case a.open:return c.Open;case a.closing:return c.Closing;default:return c.Closed}}isConnected(){return this.connectionState()===c.Open}channel(e,t={config:{}}){let n=new RealtimeChannel(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){let{topic:t,event:n,payload:i,ref:s}=e,callback=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};if(this.log("push",`${t} ${n} (${s})`,i),this.isConnected()){if(["broadcast","presence","postgres_changes"].includes(n)){let e=this._throttle(callback)();if(e)return"rate limited"}else callback()}else this.sendBuffer.push(callback)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(l.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:i,ref:s}=e;(s&&s===this.pendingHeartbeatRef||n===(null==i?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,i),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,i,s)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(l.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}};let StorageError=class StorageError extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function isStorageError(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}let StorageApiError=class StorageApiError extends StorageError{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};let StorageUnknownError=class StorageUnknownError extends StorageError{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};let helpers_resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,6749,23)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},resolveResponse=()=>(function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.t.bind(n,6749,23))).Response:Response});var fetch_awaiter=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})};let _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError=(e,t)=>fetch_awaiter(void 0,void 0,void 0,function*(){let n=yield resolveResponse();e instanceof n?e.json().then(n=>{t(new StorageApiError(_getErrorMessage(n),e.status||500))}).catch(e=>{t(new StorageUnknownError(_getErrorMessage(e),e))}):t(new StorageUnknownError(_getErrorMessage(e),e))}),_getRequestParams=(e,t,n,i)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};function _handleRequest(e,t,n,i,s,a){return fetch_awaiter(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,_getRequestParams(t,i,s,a)).then(e=>{if(!e.ok)throw e;return(null==i?void 0:i.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>handleError(e,l))})})}function get(e,t,n,i){return fetch_awaiter(this,void 0,void 0,function*(){return _handleRequest(e,"GET",t,n,i)})}function post(e,t,n,i,s){return fetch_awaiter(this,void 0,void 0,function*(){return _handleRequest(e,"POST",t,i,s,n)})}function remove(e,t,n,i,s){return fetch_awaiter(this,void 0,void 0,function*(){return _handleRequest(e,"DELETE",t,i,s,n)})}var StorageFileApi_awaiter=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})};let $={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};let StorageFileApi=class StorageFileApi{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=helpers_resolveFetch(i)}uploadOrUpdate(e,t,n,i){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let s;let a=Object.assign(Object.assign({},B),i),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((s=new FormData).append("cacheControl",a.cacheControl),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n).append("cacheControl",a.cacheControl):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType);let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));if(c.ok)return{data:{path:l},error:null};{let e=yield c.json();return{data:null,error:e}}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}upload(e,t,n){return StorageFileApi_awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return StorageFileApi_awaiter(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:B.upsert},i),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n).append("cacheControl",t.cacheControl):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);let l=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:a});if(l.ok)return{data:{path:s},error:null};{let e=yield l.json();return{data:null,error:e}}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),n=yield post(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+n.url),s=i.searchParams.get("token");if(!s)throw new StorageError("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}update(e,t,n){return StorageFileApi_awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let n=yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:n,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}copy(e,t){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let n=yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:{path:n.Key},error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,n){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield post(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers}),a=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"",o=encodeURI(`${this.url}${s.signedURL}${a}`);return{data:s={signedUrl:o},error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,n){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let i=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:i.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}download(e,t){return StorageFileApi_awaiter(this,void 0,void 0,function*(){let n=void 0!==(null==t?void 0:t.transform),i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=i?`?${i}`:"";try{let t=this._getFinalPath(e),i=yield get(this.fetch,`${this.url}/${n?"render/image/authenticated":"object"}/${t}${s}`,{headers:this.headers,noResolveJson:!0}),a=yield i.blob();return{data:a,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let n=this._getFinalPath(e),i=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&i.push(s);let a=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&i.push(o);let l=i.join("&");return""!==l&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a?"render/image":"object"}/public/${n}${l}`)}}}remove(e){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let t=yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers});return{data:t,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}list(e,t,n){return StorageFileApi_awaiter(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},$),t),{prefix:e||""}),s=yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n);return{data:s,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};let q={"X-Client-Info":"storage-js/2.5.4"};var StorageBucketApi_awaiter=function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})};let StorageBucketApi=class StorageBucketApi{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},q),t),this.fetch=helpers_resolveFetch(n)}listBuckets(){return StorageBucketApi_awaiter(this,void 0,void 0,function*(){try{let e=yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers});return{data:e,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}getBucket(e){return StorageBucketApi_awaiter(this,void 0,void 0,function*(){try{let t=yield get(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return StorageBucketApi_awaiter(this,void 0,void 0,function*(){try{let n=yield post(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return StorageBucketApi_awaiter(this,void 0,void 0,function*(){try{let n=yield function(e,t,n,i,s){return fetch_awaiter(this,void 0,void 0,function*(){return _handleRequest(e,"PUT",t,i,void 0,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}emptyBucket(e){return StorageBucketApi_awaiter(this,void 0,void 0,function*(){try{let t=yield post(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}deleteBucket(e){return StorageBucketApi_awaiter(this,void 0,void 0,function*(){try{let t=yield remove(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}};let StorageClient=class StorageClient extends StorageBucketApi{constructor(e,t={},n){super(e,t,n)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}};let H="";H="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let G={"X-Client-Info":`supabase-js-${H}/2.38.1`},fetch_resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?A():fetch),(...e)=>t(...e)},resolveHeadersConstructor=()=>"undefined"==typeof Headers?E.Headers:Headers,fetchWithAuth=(e,t,n)=>{let i=fetch_resolveFetch(n),s=resolveHeadersConstructor();return(n,a)=>(function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){var o;let l=null!==(o=yield t())&&void 0!==o?o:e,u=new s(null==a?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),i(n,Object.assign(Object.assign({},a),{headers:u}))})},helpers_isBrowser=()=>"undefined"!=typeof document,z={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!helpers_isBrowser())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(z.tested)return z.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),z.tested=!0,z.writable=!0}catch(e){z.tested=!0,z.writable=!1}return z.writable};function parseParametersFromURL(e){let t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{let e=new URLSearchParams(n.hash.substring(1));e.forEach((e,n)=>{t[n]=e})}catch(e){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}let lib_helpers_resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.t.bind(n,6749,23)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},looksLikeFetchResponse=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,setItemAsync=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},getItemAsync=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return n}},removeItemAsync=async(e,t)=>{await e.removeItem(t)};let Deferred=class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};function decodeJWTPayload(e){let t=e.split(".");if(3!==t.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw Error("JWT is not valid: payload is not in base64url format");let n=t[1];return JSON.parse(function(e){let t,n,i,s,a,o,l;let u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",h=0;for(e=e.replace("-","+").replace("_","/");h<e.length;)s=u.indexOf(e.charAt(h++)),a=u.indexOf(e.charAt(h++)),o=u.indexOf(e.charAt(h++)),l=u.indexOf(e.charAt(h++)),t=s<<2|a>>4,n=(15&a)<<4|o>>2,i=(3&o)<<6|l,c+=String.fromCharCode(t),64!=o&&0!=n&&(c+=String.fromCharCode(n)),64!=l&&0!=i&&(c+=String.fromCharCode(i));return c}(n))}async function sleep(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,n="";for(let i=0;i<56;i++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}async function sha256(e){let t=new TextEncoder,n=t.encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(e=>String.fromCharCode(e)).join("")}async function generatePKCEChallenge(e){let t="undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder;if(!t)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await sha256(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}Deferred.promiseConstructor=Promise;let AuthError=class AuthError extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function isAuthError(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}let AuthApiError=class AuthApiError extends AuthError{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};let AuthUnknownError=class AuthUnknownError extends AuthError{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}};let CustomAuthError=class CustomAuthError extends AuthError{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};let AuthSessionMissingError=class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}};let AuthInvalidTokenResponseError=class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}};let AuthInvalidCredentialsError=class AuthInvalidCredentialsError extends CustomAuthError{constructor(e){super(e,"AuthInvalidCredentialsError",400)}};let AuthImplicitGrantRedirectError=class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};let AuthPKCEGrantCodeExchangeError=class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};let AuthRetryableFetchError=class AuthRetryableFetchError extends CustomAuthError{constructor(e,t){super(e,"AuthRetryableFetchError",t)}};function isAuthRetryableFetchError(e){return isAuthError(e)&&"AuthRetryableFetchError"===e.name}var __rest=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};let fetch_getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X=[502,503,504];async function fetch_handleError(e){let t;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(fetch_getErrorMessage(e),0);if(X.includes(e.status))throw new AuthRetryableFetchError(fetch_getErrorMessage(e),e.status);try{t=await e.json()}catch(e){throw new AuthUnknownError(fetch_getErrorMessage(e),e)}throw new AuthApiError(fetch_getErrorMessage(t),e.status||500)}let fetch_getRequestParams=(e,t,n,i)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function _request(e,t,n,i){var s;let a=Object.assign({},null==i?void 0:i.headers);(null==i?void 0:i.jwt)&&(a.Authorization=`Bearer ${i.jwt}`);let o=null!==(s=null==i?void 0:i.query)&&void 0!==s?s:{};(null==i?void 0:i.redirectTo)&&(o.redirect_to=i.redirectTo);let l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await fetch_handleRequest(e,t,n+l,{headers:a,noResolveJson:null==i?void 0:i.noResolveJson},{},null==i?void 0:i.body);return(null==i?void 0:i.xform)?null==i?void 0:i.xform(u):{data:Object.assign({},u),error:null}}async function fetch_handleRequest(e,t,n,i,s,a){let o;let l=fetch_getRequestParams(t,i,s,a);try{o=await e(n,l)}catch(e){throw console.error(e),new AuthRetryableFetchError(fetch_getErrorMessage(e),0)}if(o.ok||await fetch_handleError(o),null==i?void 0:i.noResolveJson)return o;try{return await o.json()}catch(e){await fetch_handleError(e)}}function _sessionResponse(e){var t;let n=null;e.access_token&&e.refresh_token&&e.expires_in&&(n=Object.assign({},e),e.expires_at||(n.expires_at=function(e){let t=Math.round(Date.now()/1e3);return t+e}(e.expires_in)));let i=null!==(t=e.user)&&void 0!==t?t:e;return{data:{session:n,user:i},error:null}}function _userResponse(e){var t;let n=null!==(t=e.user)&&void 0!==t?t:e;return{data:{user:n},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){let{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=e,o=__rest(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l=Object.assign({},o);return{data:{properties:{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},user:l},error:null}}function _noResolveJsonResponse(e){return e}var GoTrueAdminApi_rest=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};let GoTrueAdminApi=class GoTrueAdminApi{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=lib_helpers_resolveFetch(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=GoTrueAdminApi_rest(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=null==n?void 0:n.newEmail,delete i.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_generateLinkResponse,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(isAuthError(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,n,i,s,a,o,l;try{let u={nextPage:null,lastPage:0,total:0},c=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(i=null==e?void 0:e.perPage)||void 0===i?void 0:i.toString())&&void 0!==s?s:""},xform:_noResolveJsonResponse});if(c.error)throw c.error;let h=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,g=null!==(l=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==l?l:[];return g.length>0&&(g.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);u[`${n}Page`]=t}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(e){if(isAuthError(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:_userResponse})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{let{data:t,error:n}=await _request(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{let t=await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}};let Y="2.55.0",ee={"X-Client-Info":`gotrue-js/${Y}`},et={getItem:e=>supportsLocalStorage()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(e)}};function memoryLocalStorageAdapter(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");let LockAcquireTimeoutError=class LockAcquireTimeoutError extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let er={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ee,flowType:"implicit",debug:!1};async function lockNoOp(e,t,n){return await n()}let GoTrueClient=class GoTrueClient{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&helpers_isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let n=Object.assign(Object.assign({},er),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new GoTrueAdminApi({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=lib_helpers_resolveFetch(n.fetch),this.lock=n.lock||lockNoOp,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:supportsLocalStorage()?this.storage=et:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),helpers_isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Y}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{let e=!!helpers_isBrowser()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:t,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};let{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(isAuthError(e))return{error:e};return{error:new AuthUnknownError("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,n,i;try{let s;if(await this._removeSession(),"email"in e){let{email:n,password:i,options:a}=e,o=null,l=null;if("pkce"===this.flowType){let e=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,e),o=await generatePKCEChallenge(e),l=e===o?"plain":"s256"}s=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:n,password:i,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:l},xform:_sessionResponse})}else if("phone"in e){let{phone:t,password:a,options:o}=e;s=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(i=null==o?void 0:o.channel)&&void 0!==i?i:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");let{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){let{email:n,password:i,options:s}=e;t=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:_sessionResponse})}else if("phone"in e){let{phone:n,password:i,options:s}=e;t=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");let{data:n,error:i}=t;if(i)return{data:{user:null,session:null},error:i};if(!n||!n.session||!n.user)return{data:{user:null,session:null},error:new AuthInvalidTokenResponseError};return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:i}}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,n,i,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let t=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:i}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:_sessionResponse});return(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),i)?{data:{user:null,session:null},error:i}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:i}):{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}}async signInWithIdToken(e){await this._removeSession();try{let{options:t,provider:n,token:i,access_token:s,nonce:a}=e,o=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:_sessionResponse}),{data:l,error:u}=o;if(u)return{data:{user:null,session:null},error:u};if(!l||!l.session||!l.user)return{data:{user:null,session:null},error:new AuthInvalidTokenResponseError};return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u}}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,n,i,s,a;try{if(await this._removeSession(),"email"in e){let{email:i,options:s}=e,a=null,o=null;if("pkce"===this.flowType){let e=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,e),a=await generatePKCEChallenge(e),o=e===a?"plain":"s256"}let{error:l}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:o},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in e){let{phone:t,options:n}=e,{data:o,error:l}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(i=null==n?void 0:n.data)&&void 0!==i?i:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(a=null==n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:l}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,n;try{let i,s;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(i=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);let{data:a,error:o}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:_sessionResponse});if(o)throw o;if(!a)throw Error("An error occurred on token verification.");let l=a.session,u=a.user;return(null==l?void 0:l.access_token)&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,n,i;try{return await this._removeSession(),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:_ssoResponse})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new AuthSessionMissingError;let{error:i}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();let t=`${this.url}/resend`;if("email"in e){let{email:n,type:i,options:s}=e,{error:a}=await _request(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:n,type:i,options:s}=e,{data:a,error:o}=await _request(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};let{session:i,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{session:null},error:s};return{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_userResponse});return await this._useSession(async e=>{var t,n;let{data:i,error:s}=e;if(s)throw s;return await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(t=i.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:void 0,xform:_userResponse})})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new AuthSessionMissingError;let a=i.session,o=null,l=null;if("pkce"===this.flowType&&null!=e.email){let e=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,e),o=await generatePKCEChallenge(e),l=e===o?"plain":"s256"}let{data:u,error:c}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:_userResponse});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(e){if(isAuthError(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return decodeJWTPayload(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new AuthSessionMissingError;let t=Date.now()/1e3,n=t,i=!0,s=null,a=decodeJWTPayload(e.access_token);if(a.exp&&(i=(n=a.exp)<=t),i){let{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{let{data:i,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(isAuthError(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){let{data:i,error:s}=t;if(s)throw s;e=null!==(n=i.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new AuthSessionMissingError;let{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!helpers_isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if("implicit"!==this.flowType||this._isImplicitGrantFlow()){if("pkce"==this.flowType&&!e)throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.")}else throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");let t=parseParametersFromURL(window.location.href);if(e){if(!t.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");let{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;let i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new AuthImplicitGrantRedirectError(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});let{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!a||!u)throw new AuthImplicitGrantRedirectError("No session defined in URL");let c=Math.round(Date.now()/1e3),h=parseInt(o),d=c+h;l&&(d=parseInt(l));let g=d-c;1e3*g<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let m=d-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,d,c);let{data:_,error:b}=await this._getUser(s);if(b)throw b;let C={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(e){if(isAuthError(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){let e=parseParametersFromURL(window.location.href);return!!(helpers_isBrowser()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=parseParametersFromURL(window.location.href),t=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;let{data:i,error:s}=t;if(s)return{error:s};let a=null===(n=i.session)||void 0===n?void 0:n.access_token;if(a){let{error:t}=await this.admin.signOut(a,e);if(t&&!(isAuthError(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{let{data:{session:i},error:s}=t;if(s)throw s;await (null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(t){await (null===(i=this.stateChangeEmitters.get(e))||void 0===i?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;if("pkce"===this.flowType){let e=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,e),n=await generatePKCEChallenge(e),i=e===n?"plain":"s256"}try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{let n=Date.now();return await function(e,t){let n=new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{let i=await e(s);if(!t(s,null,i)){n(i);return}}catch(e){if(!t(s,e)){i(e);return}}})()});return n}(async n=>(await sleep(200*n),this._debug(t,"refreshing attempt",n),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_sessionResponse})),(e,t,i)=>i&&i.error&&isAuthRetryableFetchError(i.error)&&Date.now()+(e+1)*200-n<3e4)}catch(e){if(this._debug(t,"error",e),isAuthError(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),helpers_isBrowser()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let n=await getItemAsync(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),null!==n&&await this._removeSession();return}let i=Math.round(Date.now()/1e3),s=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<i+10;if(this._debug(t,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&n.refresh_token){let{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),isAuthRetryableFetchError(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){this._debug(t,"error",e),console.error(e);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Deferred;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new AuthSessionMissingError;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let i={session:t.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(e){if(this._debug(i,"error",e),isAuthError(e)){let n={session:null,error:e};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let i=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){i.push(e)}});if(await Promise.all(s),i.length>0){for(let e=0;e<i.length;e+=1)console.error(i[e]);throw i[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),setItemAsync(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&helpers_isBrowser()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((1e3*n.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!helpers_isBrowser()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){let n=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),"pkce"===this.flowType){let e=generatePKCEVerifier();await setItemAsync(this.storage,`${this.storageKey}-code-verifier`,e);let t=await generatePKCEChallenge(e),i=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",i);let s=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(s.toString())}if(null==t?void 0:t.queryParams){let e=new URLSearchParams(t.queryParams);n.push(e.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;let{data:i,error:s}=t;return s?{data:null,error:s}:await _request(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;let{data:s,error:a}=t;if(a)return{data:null,error:a};let{data:o,error:l}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:((null===(i=null==o?void 0:o.totp)||void 0===i?void 0:i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;let{data:i,error:s}=t;if(s)return{data:null,error:s};let{data:a,error:o}=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;let{data:i,error:s}=t;return s?{data:null,error:s}:await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token})})}catch(e){if(isAuthError(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n=(null==e?void 0:e.factors)||[],i=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;let{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),o=null;a.aal&&(o=a.aal);let l=o,u=null!==(n=null===(t=i.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[];u.length>0&&(l="aal2");let c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}};GoTrueClient.nextInstanceID=0;let SupabaseAuthClient=class SupabaseAuthClient extends GoTrueClient{constructor(e){super(e)}};let en={headers:G},ei={schema:"public"},es={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eo={};let SupabaseClient=class SupabaseClient{constructor(e,t,n){var i,s,a,o,l,u,c,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let d=e.replace(/\/$/,"");this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;let g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:ei,realtime:eo,auth:Object.assign(Object.assign({},es),{storageKey:g}),global:en},_=function(e,t){let{db:n,auth:i,realtime:s,global:a}=e,{db:o,auth:l,realtime:u,global:c}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),a)}}(null!=n?n:{},m);this.storageKey=null!==(s=null===(i=_.auth)||void 0===i?void 0:i.storageKey)&&void 0!==s?s:"",this.headers=null!==(o=null===(a=_.global)||void 0===a?void 0:a.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(l=_.auth)&&void 0!==l?l:{},this.headers,null===(u=_.global)||void 0===u?void 0:u.fetch),this.fetch=fetchWithAuth(t,this._getAccessToken.bind(this),null===(c=_.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},_.realtime)),this.rest=new PostgrestClient(`${d}/rest/v1`,{headers:this.headers,schema:null===(h=_.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,n,i,s,a;return n=this,i=void 0,s=void 0,a=function*(){let{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(s||(s=Promise))(function(e,t){function fulfilled(e){try{step(a.next(e))}catch(e){t(e)}}function rejected(e){try{step(a.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(fulfilled,rejected)}step((a=a.apply(n,i||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,debug:o},l,u){let c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},c),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:a,debug:o,fetch:u})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==n?(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n):"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}};let createClient=(e,t,n)=>new SupabaseClient(e,t,n);var el=Object.create,eu=Object.defineProperty,ec=Object.getOwnPropertyDescriptor,eh=Object.getOwnPropertyNames,ed=Object.getPrototypeOf,ep=Object.prototype.hasOwnProperty,__copyProps=(e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of eh(t))ep.call(e,s)||s===n||eu(e,s,{get:()=>t[s],enumerable:!(i=ec(t,s))||i.enumerable});return e},__toESM=(e,t,n)=>(n=null!=e?el(ed(e)):{},__copyProps(!t&&e&&e.__esModule?n:eu(n,"default",{value:e,enumerable:!0}),e)),ef=(b={"../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js"(e){e.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},i=(t||{}).decode||decode,s=0;s<e.length;){var a=e.indexOf("=",s);if(-1===a)break;var o=e.indexOf(";",s);if(-1===o)o=e.length;else if(o<a){s=e.lastIndexOf(";",a-1)+1;continue}var l=e.slice(s,a).trim();if(void 0===n[l]){var u=e.slice(a+1,o).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),n[l]=function(e,t){try{return t(e)}catch(t){return e}}(u,i)}s=o+1}return n},e.serialize=function(e,i,s){var a=s||{},o=a.encode||encode;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var l=o(i);if(l&&!n.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(a.domain){if(!n.test(a.domain))throw TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!n.test(a.path))throw TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){var h=a.expires;if("[object Date]"!==t.call(h)&&!(h instanceof Date)||isNaN(h.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}if(a.httpOnly&&(u+="; HttpOnly"),a.secure&&(u+="; Secure"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var t=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function decode(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function encode(e){return encodeURIComponent(e)}}},function(){return C||(0,b[eh(b)[0]])((C={exports:{}}).exports,C),C.exports}),eg=(__toESM(ef()),__toESM(ef()));function parseSupabaseCookie(e){if(!e)return null;try{let t=JSON.parse(e);if(!t)return null;if("Object"===t.constructor.name)return t;if("Array"!==t.constructor.name)throw Error(`Unexpected format: ${t.constructor.name}`);let[n,i,s]=t[0].split("."),a=base64url_decode(i),o=new TextDecoder,{exp:l,sub:u,...c}=JSON.parse(o.decode(a));return{expires_at:l,expires_in:l-Math.round(Date.now()/1e3),token_type:"bearer",access_token:t[0],refresh_token:t[1],provider_token:t[2],provider_refresh_token:t[3],user:{id:u,factors:t[4],...c}}}catch(e){return console.warn("Failed to parse cookie string:",e),null}}function stringifySupabaseSession(e){var t;return JSON.stringify([e.access_token,e.refresh_token,e.provider_token,e.provider_refresh_token,(null==(t=e.user)?void 0:t.factors)??null])}function dist_isBrowser(){return!1}var ev={path:"/",maxAge:31536e6},em=class{constructor(e){this.cookieOptions={...ev,...e,maxAge:ev.maxAge}}getItem(e){let t=this.getCookie(e);return t?e.endsWith("-code-verifier")?t:JSON.stringify(parseSupabaseCookie(t)):null}setItem(e,t){if(e.endsWith("-code-verifier")){this.setCookie(e,t);return}let n=JSON.parse(t),i=stringifySupabaseSession(n);this.setCookie(e,i)}removeItem(e){this.deleteCookie(e)}},ey=class extends em{constructor(e){super(e)}getCookie(e){return null}setCookie(e,t){return null}deleteCookie(e){return null}};function createSupabaseClient(e,t,n){var i;return createClient(e,t,{...n,auth:{flowType:"pkce",autoRefreshToken:!1,detectSessionInUrl:!1,persistSession:!0,storage:n.auth.storage,...(null==(i=n.auth)?void 0:i.storageKey)?{storageKey:n.auth.storageKey}:{}}})}var e_=eg.parse,eb=eg.serialize;/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/},9046:e=>{"use strict";e.exports={version:"1.0.34"}}},e=>{var t=e(e.s=2668);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/auth/callback/route"]=t}]);
//# sourceMappingURL=route.js.map;
  export default (function () {
    const module = { exports: {}, loaded: false };
    const fn = (function(module,exports) {var d=Object.defineProperty;var m=e=>d(e,"__esModule",{value:!0});var y=(e,r)=>{m(e);for(var t in r)d(e,t,{get:r[t],enumerable:!0})};y(exports,{default:()=>x});function h(e){let r={};return e&&e.forEach((t,i)=>{r[i]=t,i.toLowerCase()==="set-cookie"&&(r[i]=C(t))}),r}function C(e){let r=[],t=0,i,a,p,n,s;function c(){for(;t<e.length&&/\s/.test(e.charAt(t));)t+=1;return t<e.length}function o(){return a=e.charAt(t),a!=="="&&a!==";"&&a!==","}for(;t<e.length;){for(i=t,s=!1;c();)if(a=e.charAt(t),a===","){for(p=t,t+=1,c(),n=t;t<e.length&&o();)t+=1;t<e.length&&e.charAt(t)==="="?(s=!0,t=n,r.push(e.substring(i,p)),i=t):t=p+1}else t+=1;(!s||t>=e.length)&&r.push(e.substring(i,e.length))}return r}function x(e){let r=e.staticRoutes.map(i=>({regexp:new RegExp(i.namedRegex),page:i.page})),t=e.dynamicRoutes?.map(i=>({regexp:new RegExp(i.namedRegex),page:i.page}))||[];return async function(a,p){let n=new URL(a.url).pathname,s={};if(e.nextConfig?.basePath&&n.startsWith(e.nextConfig.basePath)&&(n=n.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let o of e.nextConfig.i18n.locales){let g=new RegExp(`^/${o}($|/)`,"i");if(n.match(g)){n=n.replace(g,"/")||"/";break}}for(let o of r)if(o.regexp.exec(n)){s.name=o.page;break}if(!s.name){let o=R(n);for(let g of t||[]){if(o&&!R(g.page))continue;let f=g.regexp.exec(n);if(f){s={name:g.page,params:f.groups};break}}}let c=await _ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:h(a.headers),ip:u(a.headers,l.Ip),geo:{city:u(a.headers,l.City,!0),country:u(a.headers,l.Country,!0),latitude:u(a.headers,l.Latitude),longitude:u(a.headers,l.Longitude),region:u(a.headers,l.Region,!0)},nextConfig:e.nextConfig,page:s,body:a.body}});return p.waitUntil(c.waitUntil),c.response}}function u(e,r,t=!1){let i=e.get(r)||void 0;return t&&i?decodeURIComponent(i):i}function R(e){return e==="/api"||e.startsWith("/api/")}var l;(function(n){n.City="x-vercel-ip-city",n.Country="x-vercel-ip-country",n.Ip="x-real-ip",n.Latitude="x-vercel-ip-latitude",n.Longitude="x-vercel-ip-longitude",n.Region="x-vercel-ip-country-region"})(l||(l={}));

});
    fn(module, module.exports);
    return module.exports;
  }).call({}).default(
    {"name":"app/api/auth/callback/route","staticRoutes":[{"page":"/","regex":"^/(?:/)?$","routeKeys":{},"namedRegex":"^/(?:/)?$"},{"page":"/_not-found","regex":"^/_not\\-found(?:/)?$","routeKeys":{},"namedRegex":"^/_not\\-found(?:/)?$"},{"page":"/favicon.ico","regex":"^/favicon\\.ico(?:/)?$","routeKeys":{},"namedRegex":"^/favicon\\.ico(?:/)?$"},{"page":"/sign-up","regex":"^/sign\\-up(?:/)?$","routeKeys":{},"namedRegex":"^/sign\\-up(?:/)?$"},{"page":"/tweets","regex":"^/tweets(?:/)?$","routeKeys":{},"namedRegex":"^/tweets(?:/)?$"}],"dynamicRoutes":[],"nextConfig":{"basePath":""}}
  )